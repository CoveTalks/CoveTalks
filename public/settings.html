<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings - CoveTalks</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/Images/CoveTalks_Vertical.svg">
    
    <!-- Main Stylesheet -->
    <link rel="stylesheet" href="/css/main.css">
    
    <!-- Page-specific styles ONLY for unique elements -->
    <style>
        /* Settings Header */
        .settings-header {
            background: linear-gradient(135deg, var(--color-deep) 0%, var(--color-calm) 100%);
            color: white;
            padding: 8rem 0 4rem 0;
            margin-bottom: var(--spacing-xl);
        }

        .settings-header h1 {
            margin-bottom: var(--spacing-sm);
            color: white;
        }

        .settings-header p {
            opacity: 0.9;
        }

        /* Settings Grid */
        .settings-grid {
            display: grid;
            grid-template-columns: 250px 1fr;
            gap: var(--spacing-xl);
        }

        /* Sidebar Navigation */
        .settings-nav {
            background: white;
            border-radius: 15px;
            padding: var(--spacing-lg);
            box-shadow: var(--shadow-md);
            height: fit-content;
            position: sticky;
            top: calc(var(--header-height) + var(--spacing-md));
        }

        .settings-nav-item {
            display: block;
            padding: var(--spacing-sm) var(--spacing-md);
            color: #333;
            text-decoration: none;
            border-radius: 8px;
            margin-bottom: var(--spacing-sm);
            transition: all var(--transition-fast);
        }

        .settings-nav-item:hover {
            background: var(--color-foam);
        }

        .settings-nav-item.active {
            background: #e8f4fd;
            color: var(--color-deep);
            font-weight: var(--font-weight-medium);
        }

        /* Settings Content */
        .settings-content {
            background: white;
            border-radius: 15px;
            padding: var(--spacing-xl);
            box-shadow: var(--shadow-md);
        }

        .settings-section {
            display: none;
        }

        .settings-section.active {
            display: block;
        }

        .section-title {
            color: var(--color-deep);
            margin-bottom: var(--spacing-xl);
            padding-bottom: var(--spacing-md);
            border-bottom: 2px solid var(--color-bg-light);
        }

        /* Profile Image Upload */
        .profile-image-section {
            display: flex;
            align-items: center;
            gap: var(--spacing-xl);
            margin-bottom: var(--spacing-xl);
            padding: var(--spacing-lg);
            background: var(--color-foam);
            border-radius: 10px;
        }

        .profile-image-preview {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background: var(--color-border);
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            position: relative;
        }

        .profile-image-preview img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .profile-image-placeholder {
            font-size: 3rem;
            color: var(--color-gray-light);
        }

        .image-upload-actions {
            flex: 1;
        }

        .image-upload-actions h3 {
            margin-bottom: var(--spacing-sm);
            color: #333;
        }

        .image-upload-actions p {
            color: var(--color-gray);
            margin-bottom: var(--spacing-md);
            font-size: 0.9rem;
        }

        .upload-btn-wrapper {
            position: relative;
            display: inline-block;
        }

        .upload-btn-wrapper input[type=file] {
            position: absolute;
            left: -9999px;
        }

        .upload-label {
            display: inline-block;
            padding: var(--spacing-sm) var(--spacing-lg);
            background: var(--color-deep);
            color: white;
            border-radius: 25px;
            cursor: pointer;
            transition: all var(--transition-fast);
            margin-right: var(--spacing-md);
        }

        .upload-label:hover {
            background: var(--color-deep-dark);
            transform: translateY(-2px);
        }

        /* Specialties Input */
        .specialties-input {
            display: flex;
            flex-wrap: wrap;
            gap: var(--spacing-sm);
            padding: var(--spacing-sm);
            border: 2px solid var(--color-border);
            border-radius: 8px;
            min-height: 50px;
        }

        .specialty-tag {
            background: #e8f4fd;
            color: var(--color-deep);
            padding: 0.25rem 0.75rem;
            border-radius: 15px;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
        }

        .specialty-tag .remove {
            cursor: pointer;
            font-weight: var(--font-weight-bold);
        }

        .specialty-input-field {
            border: none;
            outline: none;
            flex: 1;
            min-width: 150px;
        }

        /* Switch Toggle */
        .switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 30px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 30px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 22px;
            width: 22px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: var(--color-deep);
        }

        input:checked + .slider:before {
            transform: translateX(30px);
        }

        .switch-group {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: var(--spacing-md);
            background: var(--color-foam);
            border-radius: 8px;
            margin-bottom: var(--spacing-md);
        }

        .switch-label {
            display: flex;
            flex-direction: column;
        }

        .switch-label strong {
            color: #333;
            margin-bottom: 0.25rem;
        }

        .switch-label span {
            color: var(--color-gray);
            font-size: 0.85rem;
        }

        /* Alert Messages */
        .alert {
            padding: var(--spacing-md);
            border-radius: 8px;
            margin-bottom: var(--spacing-md);
            display: none;
        }

        .alert.show {
            display: block;
        }

        .alert-success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .alert-error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        /* Danger Zone */
        .danger-zone {
            border: 2px solid var(--color-danger);
            border-radius: 10px;
            padding: var(--spacing-lg);
            background: #fff5f5;
        }

        .danger-zone h3 {
            color: var(--color-danger);
            margin-bottom: var(--spacing-md);
        }

        .danger-zone p {
            color: var(--color-gray);
            margin-bottom: var(--spacing-md);
        }

        /* Loading Overlay */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 9999;
        }

        .loading-overlay.show {
            display: flex;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .settings-grid {
                grid-template-columns: 1fr;
            }

            .settings-nav {
                position: static;
                margin-bottom: var(--spacing-xl);
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .profile-image-section {
                flex-direction: column;
                text-align: center;
            }

            .switch-group {
                flex-direction: column;
                align-items: flex-start;
                gap: var(--spacing-md);
            }
        }

        @media (max-width: 576px) {
            .settings-header h1 {
                font-size: 1.5rem;
            }

            .settings-content {
                padding: var(--spacing-lg);
            }
        }
    </style>
</head>
<body>
    <!-- Header will be auto-injected by header.js -->

    <!-- Settings Header -->
    <div class="settings-header">
        <div class="container">
            <h1>Account Settings</h1>
            <p>Manage your profile and account preferences</p>
        </div>
    </div>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <div class="settings-grid">
                <!-- Sidebar Navigation -->
                <div class="settings-nav">
                    <a href="#profile" class="settings-nav-item active" onclick="switchSection('profile')">Profile</a>
                    <a href="#professional" class="settings-nav-item" onclick="switchSection('professional')">Professional Details</a>
                    <a href="#password" class="settings-nav-item" onclick="switchSection('password')">Password & Security</a>
                    <a href="#notifications" class="settings-nav-item" onclick="switchSection('notifications')">Notifications</a>
                    <a href="#privacy" class="settings-nav-item" onclick="switchSection('privacy')">Privacy</a>
                    <a href="#danger" class="settings-nav-item" onclick="switchSection('danger')">Danger Zone</a>
                </div>

                <!-- Settings Content -->
                <div class="settings-content">
                    <!-- Success/Error Messages -->
                    <div id="alertMessage" class="alert"></div>

                    <!-- Profile Section -->
                    <div id="profile-section" class="settings-section active">
                        <h2 class="section-title">Profile Information</h2>
                        
                        <!-- Profile Image -->
                        <div class="profile-image-section">
                            <div class="profile-image-preview" id="imagePreview">
                                <span class="profile-image-placeholder" id="imagePlaceholder">ðŸ‘¤</span>
                            </div>
                            <div class="image-upload-actions">
                                <h3>Profile Photo</h3>
                                <p>Upload a professional photo. This will be displayed on your public profile.</p>
                                <div class="upload-btn-wrapper">
                                    <label for="imageUpload" class="upload-label">Choose Photo</label>
                                    <input type="file" id="imageUpload" accept="image/*" onchange="previewImage(event)">
                                </div>
                                <button class="btn btn-secondary" onclick="removeImage()" id="removeImageBtn" style="display:none;">Remove Photo</button>
                            </div>
                        </div>

                        <form id="profileForm">
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label" for="firstName">First Name</label>
                                    <input type="text" class="form-control" id="firstName" name="firstName" required>
                                </div>
                                <div class="form-group">
                                    <label class="form-label" for="lastName">Last Name</label>
                                    <input type="text" class="form-control" id="lastName" name="lastName" required>
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="form-label" for="email">Email Address</label>
                                <input type="email" class="form-control" id="email" name="email" required disabled>
                                <p class="form-help">Contact support to change your email address</p>
                            </div>

                            <div class="form-group">
                                <label class="form-label" for="phone">Phone Number</label>
                                <input type="tel" class="form-control" id="phone" name="phone" placeholder="+1 (555) 123-4567">
                            </div>

                            <div class="form-group">
                                <label class="form-label" for="location">Location</label>
                                <input type="text" class="form-control" id="location" name="location" placeholder="City, State">
                            </div>

                            <div class="form-group">
                                <label class="form-label" for="bio">Bio</label>
                                <textarea class="form-control" id="bio" name="bio" placeholder="Tell us about yourself and your speaking experience..."></textarea>
                                <p class="form-help">This will appear on your public profile. Make it compelling!</p>
                            </div>

                            <div class="form-group">
                                <label class="form-label" for="website">Website</label>
                                <input type="url" class="form-control" id="website" name="website" placeholder="https://yourwebsite.com">
                            </div>

                            <div class="form-group">
                                <label class="form-label" for="linkedin">LinkedIn Profile</label>
                                <input type="url" class="form-control" id="linkedin" name="linkedin" placeholder="https://linkedin.com/in/yourprofile">
                            </div>

                            <button type="submit" class="btn btn-primary">Save Profile</button>
                        </form>
                    </div>

                    <!-- Professional Details Section -->
                    <div id="professional-section" class="settings-section">
                        <h2 class="section-title">Professional Details</h2>
                        
                        <form id="professionalForm">
                            <div class="form-group">
                                <label class="form-label" for="title">Professional Title</label>
                                <input type="text" class="form-control" id="title" name="title" placeholder="e.g., Keynote Speaker, Business Consultant">
                            </div>

                            <div class="form-group">
                                <label class="form-label" for="yearsExperience">Years of Speaking Experience</label>
                                <input type="number" class="form-control" id="yearsExperience" name="yearsExperience" min="0" max="50">
                            </div>

                            <div class="form-group">
                                <label class="form-label">Speaking Topics</label>
                                <div class="specialties-input" id="specialtiesInput">
                                    <input type="text" class="specialty-input-field" id="specialtyInput" 
                                        placeholder="Add a topic and press Enter">
                                </div>
                                <p class="form-help">Press Enter to add topics. Click Ã— to remove.</p>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label" for="minFee">Minimum Speaking Fee ($)</label>
                                    <input type="number" class="form-control" id="minFee" name="minFee" min="0" placeholder="0">
                                </div>
                                <div class="form-group">
                                    <label class="form-label" for="maxFee">Maximum Speaking Fee ($)</label>
                                    <input type="number" class="form-control" id="maxFee" name="maxFee" min="0" placeholder="10000">
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="form-label" for="audienceSize">Preferred Audience Size</label>
                                <select class="form-control" id="audienceSize" name="audienceSize">
                                    <option value="">Any size</option>
                                    <option value="small">Small (< 50 people)</option>
                                    <option value="medium">Medium (50-200 people)</option>
                                    <option value="large">Large (200-500 people)</option>
                                    <option value="xlarge">Very Large (500+ people)</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label class="form-label">Preferred Event Formats (select all that apply)</label>
                                <div style="display: flex; flex-direction: column; gap: var(--spacing-sm);">
                                    <label><input type="checkbox" name="formats" value="In-Person"> In-Person</label>
                                    <label><input type="checkbox" name="formats" value="Virtual"> Virtual</label>
                                    <label><input type="checkbox" name="formats" value="Hybrid"> Hybrid</label>
                                </div>
                            </div>

                            <button type="submit" class="btn btn-primary">Save Professional Details</button>
                        </form>
                    </div>

                    <!-- Password Section -->
                    <div id="password-section" class="settings-section">
                        <h2 class="section-title">Password & Security</h2>
                        
                        <form id="passwordForm">
                            <div class="form-group">
                                <label class="form-label" for="currentPassword">Current Password</label>
                                <input type="password" class="form-control" id="currentPassword" name="currentPassword" required>
                            </div>

                            <div class="form-group">
                                <label class="form-label" for="newPassword">New Password</label>
                                <input type="password" class="form-control" id="newPassword" name="newPassword" required>
                                <p class="form-help">Must be at least 8 characters long</p>
                            </div>

                            <div class="form-group">
                                <label class="form-label" for="confirmPassword">Confirm New Password</label>
                                <input type="password" class="form-control" id="confirmPassword" name="confirmPassword" required>
                            </div>

                            <button type="submit" class="btn btn-primary">Update Password</button>
                        </form>
                    </div>

                    <!-- Notifications Section -->
                    <div id="notifications-section" class="settings-section">
                        <h2 class="section-title">Notification Preferences</h2>
                        
                        <form id="notificationsForm">
                            <div class="switch-group">
                                <div class="switch-label">
                                    <strong>Email Notifications</strong>
                                    <span>Receive updates about your applications and bookings</span>
                                </div>
                                <label class="switch">
                                    <input type="checkbox" id="emailNotifications" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>

                            <div class="switch-group">
                                <div class="switch-label">
                                    <strong>New Opportunities</strong>
                                    <span>Get notified about speaking opportunities matching your profile</span>
                                </div>
                                <label class="switch">
                                    <input type="checkbox" id="opportunityNotifications" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>

                            <div class="switch-group">
                                <div class="switch-label">
                                    <strong>Application Updates</strong>
                                    <span>Receive notifications when your applications are reviewed</span>
                                </div>
                                <label class="switch">
                                    <input type="checkbox" id="applicationNotifications" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>

                            <div class="switch-group">
                                <div class="switch-label">
                                    <strong>Marketing Emails</strong>
                                    <span>Tips, resources, and updates from CoveTalks</span>
                                </div>
                                <label class="switch">
                                    <input type="checkbox" id="marketingEmails">
                                    <span class="slider"></span>
                                </label>
                            </div>

                            <button type="submit" class="btn btn-primary">Save Preferences</button>
                        </form>
                    </div>

                    <!-- Privacy Section -->
                    <div id="privacy-section" class="settings-section">
                        <h2 class="section-title">Privacy Settings</h2>
                        
                        <form id="privacyForm">
                            <div class="switch-group">
                                <div class="switch-label">
                                    <strong>Public Profile</strong>
                                    <span>Allow your profile to appear in search results</span>
                                </div>
                                <label class="switch">
                                    <input type="checkbox" id="publicProfile" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>

                            <div class="switch-group">
                                <div class="switch-label">
                                    <strong>Show Contact Information</strong>
                                    <span>Display email and phone to logged-in members</span>
                                </div>
                                <label class="switch">
                                    <input type="checkbox" id="showContact" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>

                            <div class="switch-group">
                                <div class="switch-label">
                                    <strong>Show Fee Range</strong>
                                    <span>Display your speaking fee range on your profile</span>
                                </div>
                                <label class="switch">
                                    <input type="checkbox" id="showFees" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>

                            <button type="submit" class="btn btn-primary">Save Privacy Settings</button>
                        </form>
                    </div>

                    <!-- Danger Zone Section -->
                    <div id="danger-section" class="settings-section">
                        <h2 class="section-title">Danger Zone</h2>
                        
                        <div class="danger-zone">
                            <h3>Delete Account</h3>
                            <p>Once you delete your account, there is no going back. All your data will be permanently removed.</p>
                            <button class="btn btn-danger" onclick="confirmDeleteAccount()">Delete Account</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    
    <!-- Footer will be auto-injected by footer.js -->

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
    </div>

    <!-- Load Supabase from CDN -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    
    <!-- Load config and Supabase client -->
    <script src="/js/config.js"></script>
    <script src="/js/supabase-client.js"></script>
    
    <!-- Load header and footer components -->
    <script src="/js/components/header.js"></script>
    <script src="/js/components/footer.js"></script>
    
    <!-- Page-specific JavaScript -->
    <script src="/js/pages/settings.js"></script>
</body>
</html>