.filters-section .btn-secondary {
    background: #e1e8ed;
    color: #333;
    border: none;
}

.filters-section .btn-secondary:hover {
    background: #d1d8dd;
    transform: none;
}<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Activity History - CoveTalks</title>
<style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    line-height: 1.6;
    color: #333;
    background: #f8f9fa;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
}

/* Header */
header {
    background: white;
    color: #333;
    padding: 1rem 0;
    position: fixed;
    width: 100%;
    top: 0;
    z-index: 1000;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

nav {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.logo {
    display: inline-flex;
    align-items: center;
    text-decoration: none;
}

.logo-img {
    height: 70px;
    width: auto;
    display: block;
}

.nav-links {
    display: flex;
    list-style: none;
    gap: 2rem;
}

.nav-links a {
    color: #333;
    text-decoration: none;
    font-weight: 500;
    transition: color 0.3s;
}

.nav-links a:hover {
    color: #155588;
}

.nav-links a.active {
    color: #155588;
    border-bottom: 2px solid #155588;
    padding-bottom: 2px;
}

.nav-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
}

.nav-right {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.user-menu {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.user-avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: linear-gradient(135deg, #667eea, #1e93b7);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: bold;
    cursor: pointer;
}

.user-dropdown {
    position: relative;
}

.dropdown-menu {
    position: absolute;
    top: 100%;
    right: 0;
    background: white;
    border-radius: 10px;
    box-shadow: 0 5px 20px rgba(0,0,0,0.15);
    padding: 1rem 0;
    min-width: 200px;
    display: none;
    margin-top: 0.5rem;
}

.dropdown-menu.show {
    display: block;
}

.dropdown-menu a {
    display: block;
    padding: 0.5rem 1.5rem;
    color: #333;
    text-decoration: none;
    transition: background 0.3s;
}

.dropdown-menu a:hover {
    background: #f8f9fa;
}

.dropdown-divider {
    border-top: 1px solid #e1e8ed;
    margin: 0.5rem 0;
}

.auth-buttons {
    display: flex;
    gap: 1rem;
}

/* Mobile Navigation */
.hamburger {
    display: none;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    width: 35px;
    height: 35px;
    cursor: pointer;
    z-index: 1002;
    background: none;
    border: none;
    padding: 5px;
}

.hamburger span {
    display: block;
    width: 25px;
    height: 3px;
    background: #333;
    margin: 3px 0;
    transition: all 0.3s ease;
    border-radius: 2px;
}

.hamburger.active span:nth-child(1) {
    transform: rotate(45deg) translate(5px, 5px);
}

.hamburger.active span:nth-child(2) {
    opacity: 0;
}

.hamburger.active span:nth-child(3) {
    transform: rotate(-45deg) translate(7px, -6px);
}

.mobile-menu-overlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    z-index: 999;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.mobile-menu-overlay.show {
    display: block;
    opacity: 1;
}

.mobile-menu {
    position: fixed;
    top: 0;
    right: -320px;
    width: 300px;
    height: 100vh;
    background: white;
    z-index: 1001;
    transition: right 0.3s ease;
    overflow-y: auto;
    box-shadow: -5px 0 20px rgba(0,0,0,0.1);
}

.mobile-menu.show {
    right: 0;
}

.mobile-menu-header {
    padding: 1.5rem;
    border-bottom: 1px solid #e1e8ed;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.mobile-menu-close {
    width: 30px;
    height: 30px;
    background: none;
    border: none;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    color: #666;
}

.mobile-nav-links {
    list-style: none;
    padding: 1rem 0;
}

.mobile-nav-links li {
    border-bottom: 1px solid #f0f0f0;
}

.mobile-nav-links a {
    display: block;
    padding: 1rem 1.5rem;
    color: #333;
    text-decoration: none;
    font-weight: 500;
    transition: all 0.3s;
}

.mobile-nav-links a:hover {
    background: #f8f9fa;
    color: #155588;
    padding-left: 2rem;
}

.mobile-nav-links a.active {
    color: #155588;
    background: #e8f4fd;
}

.mobile-user-section {
    padding: 1.5rem;
    border-bottom: 1px solid #e1e8ed;
    background: #f8f9fa;
}

.mobile-user-info {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1rem;
}

.mobile-user-avatar {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background: linear-gradient(135deg, #667eea, #1e93b7);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: bold;
}

.mobile-user-details h3 {
    margin: 0;
    color: #333;
}

.mobile-user-details p {
    margin: 0;
    color: #666;
    font-size: 0.9rem;
}

.mobile-auth-buttons {
    padding: 1.5rem;
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.mobile-auth-buttons .btn {
    width: 100%;
    text-align: center;
}

/* Main Content */
main {
    padding-top: 120px;
    min-height: calc(100vh - 60px);
    padding-bottom: 60px;
}

.page-header {
    background: linear-gradient(135deg, #667eea 0%, #1e93b7 100%);
    color: white;
    padding: 2rem 0;
    margin-bottom: 2rem;
}

.page-header h1 {
    font-size: 2rem;
    margin-bottom: 0.5rem;
}

.page-header p {
    opacity: 0.9;
}

/* Activity Filters */
.filters-section {
    background: white;
    padding: 1.5rem;
    border-radius: 15px;
    margin-bottom: 2rem;
    box-shadow: 0 5px 15px rgba(0,0,0,0.08);
}

.filters-container {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
    align-items: center;
}

.filter-group {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    min-width: 200px;
}

.filter-group label {
    font-size: 0.9rem;
    color: #666;
    font-weight: 500;
}

.filter-group select,
.filter-group input {
    padding: 0.5rem;
    border: 1px solid #e1e8ed;
    border-radius: 8px;
    font-size: 1rem;
}

.filters-section .btn-secondary {
    background: #e1e8ed;
    color: #333;
    border: none;
}

.filters-section .btn-secondary:hover {
    background: #d1d8dd;
    transform: none;
}

.btn {
    padding: 0.5rem 1.5rem;
    border: none;
    border-radius: 25px;
    cursor: pointer;
    text-decoration: none;
    display: inline-block;
    transition: all 0.3s;
    font-weight: 500;
    font-size: 1rem;
}

.btn-primary {
    background: #155588;
    color: white;
}

.btn-primary:hover {
    background: #1e3d6f;
    transform: translateY(-2px);
}

.btn-secondary {
    background: transparent;
    color: #155588;
    border: 2px solid #155588;
}

.btn-secondary:hover {
    background: #155588;
    color: white;
}

.desktop-only {
    display: block;
}

/* Activity Timeline */
.activity-timeline {
    position: relative;
    padding-left: 40px;
}

.activity-timeline::before {
    content: '';
    position: absolute;
    left: 20px;
    top: 20px;
    bottom: 20px;
    width: 2px;
    background: #e1e8ed;
}

.activity-date-group {
    margin-bottom: 2rem;
}

.activity-date-header {
    font-size: 1.2rem;
    font-weight: 600;
    color: #155588;
    margin-bottom: 1rem;
    padding-left: 10px;
}

.activity-item {
    background: white;
    padding: 1.5rem;
    border-radius: 15px;
    margin-bottom: 1rem;
    box-shadow: 0 5px 15px rgba(0,0,0,0.08);
    position: relative;
    transition: transform 0.3s, box-shadow 0.3s;
}

.activity-item:hover {
    transform: translateX(5px);
    box-shadow: 0 8px 20px rgba(0,0,0,0.12);
}

.activity-item::before {
    content: '';
    position: absolute;
    left: -28px;
    top: 50%;
    transform: translateY(-50%);
    width: 16px;
    height: 16px;
    border-radius: 50%;
    background: white;
    border: 3px solid #155588;
}

.activity-header {
    display: flex;
    justify-content: space-between;
    align-items: start;
    margin-bottom: 1rem;
}

.activity-type {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.25rem 0.75rem;
    border-radius: 20px;
    font-size: 0.85rem;
    font-weight: 500;
}

.activity-type.application {
    background: #f3e5f5;
    color: #1e93b7;
}

.activity-type.booking {
    background: #d4edda;
    color: #27ae60;
}

.activity-type.review {
    background: #fff3e0;
    color: #f2b236;
}

.activity-type.profile-view {
    background: #e8f4fd;
    color: #155588;
}

.activity-time {
    color: #999;
    font-size: 0.85rem;
}

.activity-content h3 {
    color: #333;
    margin-bottom: 0.5rem;
}

.activity-content p {
    color: #666;
    margin-bottom: 0.5rem;
}

.activity-status {
    display: inline-block;
    padding: 0.25rem 0.75rem;
    border-radius: 15px;
    font-size: 0.85rem;
    font-weight: 500;
    margin-top: 0.5rem;
}

.activity-status.pending {
    background: #fff3e0;
    color: #f2b236;
}

.activity-status.accepted {
    background: #d4edda;
    color: #27ae60;
}

.activity-status.rejected {
    background: #f8d7da;
    color: #dc3545;
}

/* Empty State */
.empty-state {
    text-align: center;
    padding: 4rem 2rem;
    background: white;
    border-radius: 15px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.08);
}

.empty-state-icon {
    font-size: 4rem;
    margin-bottom: 1rem;
    opacity: 0.5;
}

.empty-state h2 {
    color: #333;
    margin-bottom: 1rem;
}

.empty-state p {
    color: #666;
    margin-bottom: 2rem;
}

/* Loading State */
.loading {
    text-align: center;
    padding: 3rem;
}

.spinner {
    display: inline-block;
    width: 50px;
    height: 50px;
    border: 3px solid rgba(0,0,0,0.1);
    border-radius: 50%;
    border-top-color: #155588;
    animation: spin 1s ease-in-out infinite;
}

@keyframes spin {
    to { transform: rotate(360deg); }
}

/* Responsive */
@media (max-width: 768px) {
    .logo-img {
        height: 50px;
    }

    .nav-links {
        display: none !important;
    }

    .auth-buttons.desktop-only {
        display: none !important;
    }

    .hamburger {
        display: flex;
    }

    .filters-container {
        flex-direction: column;
    }

    .filter-group {
        width: 100%;
    }

    .activity-timeline {
        padding-left: 30px;
    }

    .activity-timeline::before {
        left: 10px;
    }

    .activity-item::before {
        left: -38px;
    }

    .page-header h1 {
        font-size: 1.5rem;
    }
}

@media (max-width: 480px) {
    .mobile-menu {
        width: 85vw;
        right: -85vw;
    }
}
</style>
<link rel="icon" type="image/svg+xml" href="/Images/CoveTalks_Vertical.svg"> 
</head>
<body>
<!-- Header -->
<header>
<div class="nav-container">
    <nav>
        <!-- Logo -->
        <a href="index.html" class="logo">
            <img src="/Images/CoveTalks_logo.svg" alt="CoveTalks" class="logo-img">
        </a>
        
        <!-- Desktop Navigation -->
        <!-- Logged Out Navigation -->
        <ul class="nav-links nav-logged-out" id="navLoggedOut">
            <li><a href="index.html">Home</a></li>
            <li><a href="members.html">Find Speakers</a></li>
            <li><a href="pricing.html">Pricing</a></li>
            <li><a href="register.html">Register</a></li>
            <li><a href="contact.html">Contact</a></li>
        </ul>
        
        <!-- Logged In Navigation (Speakers) -->
        <ul class="nav-links nav-logged-in nav-speaker" id="navSpeaker" style="display: none;">
            <li><a href="dashboard.html">Dashboard</a></li>
            <li><a href="members.html">Find Speakers</a></li>
            <li><a href="opportunities.html">Opportunities</a></li>
            <li><a href="bookings.html">My Bookings</a></li>
            <li><a href="profile.html">Profile</a></li>
        </ul>
        
        <!-- Logged In Navigation (Organizations) -->
        <ul class="nav-links nav-logged-in nav-organization" id="navOrganization" style="display: none;">
            <li><a href="organization-dashboard.html">Dashboard</a></li>
            <li><a href="members.html">Find Speakers</a></li>
            <li><a href="post-opportunity.html">Post Opportunity</a></li>
            <li><a href="my-opportunities.html">My Opportunities</a></li>
            <li><a href="saved-speakers.html">Saved Speakers</a></li>
        </ul>

        <!-- Right Side Navigation -->
        <div class="nav-right">
            <!-- For Logged In Users -->
            <div class="user-menu" id="userMenuDesktop" style="display: none;">
                <div class="user-dropdown">
                    <div class="user-avatar" onclick="toggleDropdown()" id="userAvatar">JD</div>
                    <div class="dropdown-menu" id="dropdownMenu">
                        <a href="settings.html">Settings</a>
                        <a href="billing.html">Billing</a>
                        <div class="dropdown-divider"></div>
                        <a href="#" onclick="logout()">Logout</a>
                    </div>
                </div>
            </div>

            <!-- For Logged Out Users -->
            <div class="auth-buttons desktop-only" id="authButtonsDesktop">
                <a href="register.html" class="btn btn-secondary">Join</a>
                <a href="login.html" class="btn btn-primary">Login</a>
            </div>

            <!-- Hamburger Menu Button -->
            <button class="hamburger" id="hamburger" onclick="toggleMobileMenu()">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </nav>
</div>
</header>

<!-- Mobile Menu Overlay -->
<div class="mobile-menu-overlay" id="mobileMenuOverlay" onclick="closeMobileMenu()"></div>

<!-- Mobile Menu Panel -->
<div class="mobile-menu" id="mobileMenu">
<div class="mobile-menu-header">
    <a href="index.html" class="logo">
        <img src="/Images/CoveTalks_logo.svg" alt="CoveTalks" class="logo-img">
    </a>
    <button class="mobile-menu-close" onclick="closeMobileMenu()">‚úï</button>
</div>

<!-- Mobile User Section (for logged in users) -->
<div class="mobile-user-section" id="mobileUserSection" style="display: none;">
    <div class="mobile-user-info">
        <div class="mobile-user-avatar" id="mobileUserAvatar">JD</div>
        <div class="mobile-user-details">
            <h3 id="mobileUserName">John Doe</h3>
            <p id="mobileUserType">Speaker - Plus Plan</p>
        </div>
    </div>
</div>

<!-- Mobile Navigation Links -->
<!-- Logged Out Mobile Navigation -->
<ul class="mobile-nav-links mobile-nav-logged-out" id="mobileNavLoggedOut">
    <li><a href="index.html">Home</a></li>
    <li><a href="members.html">Find Speakers</a></li>
    <li><a href="pricing.html">Pricing</a></li>
    <li><a href="register.html">Register</a></li>
    <li><a href="contact.html">Contact</a></li>
    <li><a href="help.html">Help Center</a></li>
</ul>

<!-- Logged In Mobile Navigation (Speakers) -->
<ul class="mobile-nav-links mobile-nav-logged-in mobile-nav-speaker" id="mobileNavSpeaker" style="display: none;">
    <li><a href="dashboard.html">Dashboard</a></li>
    <li><a href="members.html">Find Speakers</a></li>
    <li><a href="opportunities.html">Opportunities</a></li>
    <li><a href="bookings.html">My Bookings</a></li>
    <li><a href="profile.html">Profile</a></li>
    <li><a href="settings.html">Settings</a></li>
    <li><a href="billing.html">Billing</a></li>
    <li><a href="help.html">Help & Support</a></li>
</ul>

<!-- Logged In Mobile Navigation (Organizations) -->
<ul class="mobile-nav-links mobile-nav-logged-in mobile-nav-organization" id="mobileNavOrganization" style="display: none;">
    <li><a href="organization-dashboard.html">Dashboard</a></li>
    <li><a href="members.html">Find Speakers</a></li>
    <li><a href="post-opportunity.html">Post Opportunity</a></li>
    <li><a href="my-opportunities.html">My Opportunities</a></li>
    <li><a href="saved-speakers.html">Saved Speakers</a></li>
    <li><a href="settings.html">Settings</a></li>
    <li><a href="team.html">Team Members</a></li>
    <li><a href="help.html">Help & Support</a></li>
</ul>

<!-- Mobile Auth Buttons (for logged out users) -->
<div class="mobile-auth-buttons" id="mobileAuthButtons">
    <a href="register.html" class="btn btn-secondary">Join Community</a>
    <a href="login.html" class="btn btn-primary">Login</a>
</div>

<!-- Mobile Logout Button (for logged in users) -->
<div class="mobile-auth-buttons" id="mobileLogoutSection" style="display: none;">
    <button class="btn btn-primary" onclick="logout()">Logout</button>
</div>
</div>

<!-- Main Content -->
<main>
<!-- Page Header -->
<div class="page-header">
    <div class="container">
        <h1>Activity History</h1>
        <p>View all your recent activities and interactions</p>
    </div>
</div>

<div class="container">
    <!-- Filters Section -->
    <div class="filters-section">
        <div class="filters-container">
            <div class="filter-group">
                <label for="activityType">Activity Type</label>
                <select id="activityType" onchange="filterActivities()">
                    <option value="all">All Activities</option>
                    <option value="application">Applications</option>
                    <option value="booking">Bookings</option>
                    <option value="review">Reviews</option>
                    <option value="profile_view">Profile Views</option>
                </select>
            </div>
            <div class="filter-group">
                <label for="dateRange">Date Range</label>
                <select id="dateRange" onchange="filterActivities()">
                    <option value="all">All Time</option>
                    <option value="today">Today</option>
                    <option value="week">This Week</option>
                    <option value="month">This Month</option>
                    <option value="3months">Last 3 Months</option>
                </select>
            </div>
            <div class="filter-group">
                <label>&nbsp;</label>
                <button class="btn btn-secondary" onclick="clearFilters()">Clear Filters</button>
            </div>
        </div>
    </div>

    <!-- Activity Timeline -->
    <div id="activityContent">
        <div class="loading">
            <div class="spinner"></div>
            <p>Loading activities...</p>
        </div>
    </div>
</div>
</main>

<script src="/js/app.js"></script>
<script src="/js/navigation.js"></script>
<script>
let allActivities = [];
let filteredActivities = [];

// Initialize page
document.addEventListener('DOMContentLoaded', function() {
    // Check authentication
    if (!api.isAuthenticated()) {
        sessionStorage.setItem('redirectUrl', window.location.href);
        window.location.href = '/login.html';
        return;
    }

    // Update navigation
    if (typeof updateNavigation === 'function') {
        updateNavigation();
    }

    // Update user info in navigation
    const user = api.getCurrentUser();
    if (user) {
        // Update avatars with initials
        const initials = user.name?.split(' ').map(n => n[0]).join('').toUpperCase().slice(0, 2) || 'U';
        const userAvatar = document.getElementById('userAvatar');
        const mobileUserAvatar = document.getElementById('mobileUserAvatar');
        const mobileUserName = document.getElementById('mobileUserName');
        const mobileUserType = document.getElementById('mobileUserType');
        
        if (userAvatar) userAvatar.textContent = initials;
        if (mobileUserAvatar) mobileUserAvatar.textContent = initials;
        if (mobileUserName) mobileUserName.textContent = user.name || 'User';
        if (mobileUserType) mobileUserType.textContent = user.memberType || 'Member';
    }

    // Load activities
    loadActivities();
});

// Toggle dropdown menu
function toggleDropdown() {
    const dropdown = document.getElementById('dropdownMenu');
    dropdown.classList.toggle('show');
}

// Close dropdown when clicking outside
document.addEventListener('click', function(event) {
    const dropdown = document.getElementById('dropdownMenu');
    const avatar = document.getElementById('userAvatar');
    
    if (dropdown && avatar && !avatar.contains(event.target) && !dropdown.contains(event.target)) {
        dropdown.classList.remove('show');
    }
});

// Mobile menu functions
function toggleMobileMenu() {
    const hamburger = document.getElementById('hamburger');
    const mobileMenu = document.getElementById('mobileMenu');
    const overlay = document.getElementById('mobileMenuOverlay');
    
    hamburger.classList.toggle('active');
    mobileMenu.classList.toggle('show');
    overlay.classList.toggle('show');
    
    if (mobileMenu.classList.contains('show')) {
        document.body.style.overflow = 'hidden';
    } else {
        document.body.style.overflow = '';
    }
}

function closeMobileMenu() {
    const hamburger = document.getElementById('hamburger');
    const mobileMenu = document.getElementById('mobileMenu');
    const overlay = document.getElementById('mobileMenuOverlay');
    
    hamburger.classList.remove('active');
    mobileMenu.classList.remove('show');
    overlay.classList.remove('show');
    document.body.style.overflow = '';
}

// Logout function
function logout() {
    api.logout();
}

// Close mobile menu on window resize
window.addEventListener('resize', function() {
    if (window.innerWidth > 768) {
        closeMobileMenu();
    }
});

// Load all activities
async function loadActivities() {
    try {
        // Get dashboard activity
        const activityData = await api.getDashboardActivity();
        
        // Get bookings for additional activity
        const bookingsData = await api.getBookings({ limit: 50 });
        
        // Combine and format activities
        allActivities = [];
        
        // Add activities from dashboard
        if (activityData && activityData.activities) {
            allActivities.push(...activityData.activities);
        }
        
        // Add booking activities
        if (bookingsData && bookingsData.bookings) {
            bookingsData.bookings.forEach(booking => {
                allActivities.push({
                    type: 'booking',
                    title: `Booking: ${booking.opportunity?.title || 'Event'}`,
                    description: `${booking.opportunity?.location || 'Location TBD'} ‚Ä¢ Status: ${booking.status}`,
                    date: booking.appliedDate || booking.opportunity?.eventDate,
                    status: booking.status
                });
            });
        }
        
        // Sort by date
        allActivities.sort((a, b) => new Date(b.date) - new Date(a.date));
        
        // Display activities
        displayActivities(allActivities);
    } catch (error) {
        console.error('Error loading activities:', error);
        document.getElementById('activityContent').innerHTML = `
            <div class="empty-state">
                <div class="empty-state-icon">‚ö†Ô∏è</div>
                <h2>Error Loading Activities</h2>
                <p>There was an error loading your activities. Please try again.</p>
                <button class="btn btn-primary" onclick="location.reload()">Refresh Page</button>
            </div>
        `;
    }
}

// Display activities
function displayActivities(activities) {
    const container = document.getElementById('activityContent');
    
    if (!activities || activities.length === 0) {
        container.innerHTML = `
            <div class="empty-state">
                <div class="empty-state-icon">üìã</div>
                <h2>No Activities Yet</h2>
                <p>Your activity history will appear here once you start using CoveTalks.</p>
                <a href="opportunities.html" class="btn btn-primary">Browse Opportunities</a>
            </div>
        `;
        return;
    }
    
    // Group activities by date
    const groupedActivities = {};
    activities.forEach(activity => {
        const date = formatDateGroup(activity.date);
        if (!groupedActivities[date]) {
            groupedActivities[date] = [];
        }
        groupedActivities[date].push(activity);
    });
    
    // Build HTML
    let html = '<div class="activity-timeline">';
    
    Object.entries(groupedActivities).forEach(([date, items]) => {
        html += `
            <div class="activity-date-group">
                <div class="activity-date-header">${date}</div>
        `;
        
        items.forEach(activity => {
            const typeIcon = getActivityIcon(activity.type);
            const statusBadge = activity.status ? 
                `<span class="activity-status ${activity.status.toLowerCase()}">${activity.status}</span>` : '';
            
            html += `
                <div class="activity-item">
                    <div class="activity-header">
                        <span class="activity-type ${activity.type}">
                            ${typeIcon} ${formatActivityType(activity.type)}
                        </span>
                        <span class="activity-time">${formatTime(activity.date)}</span>
                    </div>
                    <div class="activity-content">
                        <h3>${activity.title}</h3>
                        <p>${activity.description}</p>
                        ${statusBadge}
                    </div>
                </div>
            `;
        });
        
        html += '</div>';
    });
    
    html += '</div>';
    container.innerHTML = html;
    filteredActivities = activities;
}

// Filter activities
function filterActivities() {
    const type = document.getElementById('activityType').value;
    const range = document.getElementById('dateRange').value;
    
    let filtered = [...allActivities];
    
    // Filter by type
    if (type !== 'all') {
        filtered = filtered.filter(a => a.type === type);
    }
    
    // Filter by date range
    if (range !== 'all') {
        const now = new Date();
        let startDate = new Date();
        
        switch(range) {
            case 'today':
                startDate.setHours(0, 0, 0, 0);
                break;
            case 'week':
                startDate.setDate(now.getDate() - 7);
                break;
            case 'month':
                startDate.setMonth(now.getMonth() - 1);
                break;
            case '3months':
                startDate.setMonth(now.getMonth() - 3);
                break;
        }
        
        filtered = filtered.filter(a => new Date(a.date) >= startDate);
    }
    
    displayActivities(filtered);
}

// Clear filters
function clearFilters() {
    document.getElementById('activityType').value = 'all';
    document.getElementById('dateRange').value = 'all';
    displayActivities(allActivities);
}

// Helper functions
function formatDateGroup(dateString) {
    if (!dateString) return 'Recently';
    const date = new Date(dateString);
    const today = new Date();
    const yesterday = new Date(today);
    yesterday.setDate(yesterday.getDate() - 1);
    
    if (date.toDateString() === today.toDateString()) {
        return 'Today';
    } else if (date.toDateString() === yesterday.toDateString()) {
        return 'Yesterday';
    } else {
        return date.toLocaleDateString('en-US', { 
            weekday: 'long',
            month: 'long', 
            day: 'numeric',
            year: date.getFullYear() !== today.getFullYear() ? 'numeric' : undefined
        });
    }
}

function formatTime(dateString) {
    if (!dateString) return '';
    const date = new Date(dateString);
    return date.toLocaleTimeString('en-US', { 
        hour: 'numeric',
        minute: '2-digit',
        hour12: true
    });
}

function getActivityIcon(type) {
    const icons = {
        application: 'üéØ',
        booking: 'üìÖ',
        review: '‚≠ê',
        profile_view: 'üëÅÔ∏è'
    };
    return icons[type] || 'üìã';
}

function formatActivityType(type) {
    const types = {
        application: 'Application',
        booking: 'Booking',
        review: 'Review',
        profile_view: 'Profile View'
    };
    return types[type] || 'Activity';
}
</script>
</body>
</html>