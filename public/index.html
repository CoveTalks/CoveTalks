<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CoveTalks - Where Connections Ignite Opportunities</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/Images/CoveTalks_Vertical.svg">
    
    <!-- Main Stylesheet -->
    <link rel="stylesheet" href="/css/main.css">

    <!-- PWA Support -->
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#155487">
    <link rel="apple-touch-icon" href="/Images/icon-192x192.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="CoveTalks">
    <meta name="msapplication-TileImage" content="/Images/icon-144x144.png">
    <meta name="msapplication-TileColor" content="#155487">
    
    <!-- Page-specific styles ONLY for unique elements -->
    <style>
        /* Hero Section - Unique to homepage */
        .hero {
            background: linear-gradient(135deg, var(--color-deep) 0%, var(--color-calm) 100%);
            color: white;
            padding: 8rem 0 4rem;
            text-align: center;
            min-height: 80vh;
            display: flex;
            align-items: center;
            margin-top: calc(var(--header-height) * -1);
            padding-top: calc(var(--header-height) + 8rem);
        }

        .hero-content {
            width: 100%;
        }

        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: var(--spacing-md);
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            font-weight: var(--font-weight-black);
        }

        .hero .subtitle {
            font-size: 1.5rem;
            margin-bottom: var(--spacing-md);
            opacity: 0.9;
            font-weight: var(--font-weight-medium);
        }

        .hero p {
            font-size: 1.2rem;
            margin-bottom: var(--spacing-xl);
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            line-height: 1.8;
        }

        .hero-cta {
            margin-top: var(--spacing-xl);
        }

        /* Two Ways Section */
        .two-ways {
            padding: var(--spacing-3xl) 0;
            background: var(--color-foam);
        }

        .section-title {
            text-align: center;
            margin-bottom: var(--spacing-2xl);
        }

        .section-title h2 {
            font-size: 2.5rem;
            color: var(--color-dark);
            margin-bottom: var(--spacing-md);
            font-weight: var(--font-weight-black);
        }

        .section-title h3 {
            color: var(--color-deep);
            font-size: 1.5rem;
            margin-top: var(--spacing-xl);
            font-weight: var(--font-weight-bold);
        }

        .section-title p {
            max-width: 800px;
            margin: 0 auto;
            color: var(--color-gray);
            line-height: 1.8;
        }

        .ways-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--spacing-2xl);
            margin-top: var(--spacing-2xl);
        }

        .way-card {
            background: white;
            padding: var(--spacing-xl);
            border-radius: 15px;
            box-shadow: var(--shadow-md);
            text-align: center;
            transition: transform var(--transition-normal);
        }

        .way-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .way-card h3 {
            color: var(--color-deep);
            margin-bottom: var(--spacing-md);
            font-size: 1.5rem;
            font-weight: var(--font-weight-black);
        }

        .way-card p {
            margin-bottom: var(--spacing-lg);
            color: var(--color-gray);
            line-height: 1.8;
        }

        /* Featured Speakers Section */
        .featured-speakers {
            padding: var(--spacing-3xl) 0;
            background: linear-gradient(180deg, #ffffff 0%, var(--color-foam) 100%);
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--spacing-xl);
        }

        .section-header h2 {
            font-size: 2.5rem;
            color: var(--color-dark);
            font-weight: var(--font-weight-black);
        }

        .section-header p {
            color: var(--color-gray);
            margin-top: var(--spacing-sm);
        }

        .view-all-link {
            color: var(--color-deep);
            text-decoration: none;
            font-weight: var(--font-weight-bold);
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            transition: color var(--transition-normal);
        }

        .view-all-link:hover {
            color: var(--color-deep-dark);
        }

        .speakers-showcase {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: var(--spacing-lg);
            margin-top: var(--spacing-xl);
        }

        .speaker-showcase-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: var(--shadow-md);
            transition: all var(--transition-normal);
            position: relative;
            cursor: pointer;
        }

        .speaker-showcase-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-xl);
        }

        .speaker-image-container {
            position: relative;
            height: 200px;
            background: linear-gradient(135deg, var(--color-deep), var(--color-calm));
            overflow: hidden;
        }

        .speaker-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .speaker-initials-large {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            font-weight: var(--font-weight-bold);
            color: white;
            background: linear-gradient(135deg, var(--color-deep), var(--color-calm));
        }

        .speaker-badge {
            position: absolute;
            top: var(--spacing-md);
            left: var(--spacing-md);
            padding: 0.35rem 0.75rem;
            border-radius: 15px;
            font-size: 0.75rem;
            font-weight: var(--font-weight-bold);
            color: white;
        }

        .badge-featured {
            background: linear-gradient(135deg, var(--color-sand), #ff8c42);
        }

        .badge-new {
            background: linear-gradient(135deg, #00c9ff, #92fe9d);
        }

        .badge-verified {
            background: linear-gradient(135deg, #667eea, #764ba2);
        }

        .speaker-info {
            padding: var(--spacing-lg);
        }

        .speaker-name {
            font-size: 1.25rem;
            font-weight: var(--font-weight-bold);
            color: var(--color-deep);
            margin-bottom: 0.35rem;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .speaker-tagline {
            color: var(--color-gray);
            font-size: 0.85rem;
            margin-bottom: var(--spacing-md);
            line-height: 1.3;
            min-height: 2.2rem;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .speaker-location {
            display: flex;
            align-items: center;
            gap: 0.35rem;
            color: var(--color-gray-light);
            font-size: 0.8rem;
            margin-bottom: var(--spacing-md);
        }

        .speaker-location::before {
            content: "üìç";
            font-size: 0.9rem;
        }

        .speaker-specialties {
            display: flex;
            flex-wrap: wrap;
            gap: 0.35rem;
            margin-bottom: var(--spacing-md);
            min-height: 2rem;
        }

        .specialty-tag {
            background: #e8f4fd;
            color: var(--color-deep);
            padding: 0.25rem 0.5rem;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: var(--font-weight-medium);
            border: 1px solid rgba(21, 85, 136, 0.1);
            transition: all var(--transition-fast);
        }

        .specialty-tag:hover {
            background: var(--color-deep);
            color: white;
        }

        .more-tags {
            background: var(--color-bg-light);
            color: var(--color-gray);
            padding: 0.25rem 0.5rem;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: var(--font-weight-medium);
        }

        .speaker-rating {
            display: flex;
            align-items: center;
            gap: 0.35rem;
            margin-bottom: var(--spacing-md);
        }

        .stars {
            display: flex;
            gap: 0.1rem;
        }

        .star {
            color: var(--color-sand);
            font-size: 0.85rem;
        }

        .star.empty {
            color: #ddd;
        }

        .rating-count {
            color: var(--color-gray-light);
            font-size: 0.75rem;
        }

        .speaker-footer {
            padding: var(--spacing-md) var(--spacing-lg);
            border-top: 1px solid var(--color-bg-light);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .availability-status {
            display: flex;
            align-items: center;
            gap: 0.35rem;
            font-size: 0.75rem;
            color: var(--color-gray);
        }

        .status-dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: var(--color-success);
        }

        .status-dot.busy {
            background: var(--color-warning);
        }

        .status-dot.unavailable {
            background: var(--color-danger);
        }

        .view-profile-btn {
            padding: 0.4rem 1rem;
            background: var(--color-deep);
            color: white;
            border: none;
            border-radius: 15px;
            font-size: 0.75rem;
            font-weight: var(--font-weight-bold);
            cursor: pointer;
            transition: all var(--transition-normal);
        }

        .view-profile-btn:hover {
            background: var(--color-deep-dark);
            transform: translateY(-1px);
        }

        /* Loading skeleton */
        .speaker-skeleton {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: var(--shadow-md);
        }

        .skeleton-image {
            height: 200px;
            background: linear-gradient(90deg, var(--color-bg-light) 25%, #e0e0e0 50%, var(--color-bg-light) 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
        }

        .skeleton-content {
            padding: var(--spacing-lg);
        }

        .skeleton-line {
            height: 16px;
            background: linear-gradient(90deg, var(--color-bg-light) 25%, #e0e0e0 50%, var(--color-bg-light) 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
            margin-bottom: var(--spacing-sm);
            border-radius: 4px;
        }

        .skeleton-line.short {
            width: 60%;
        }

        @keyframes loading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }

        /* Organizations Section with Tabs */
        .organizations {
            padding: var(--spacing-md) 0;
            background: var(--color-foam);
        }

        .tab-buttons {
            display: flex;
            justify-content: center;
            gap: var(--spacing-md);
            margin-bottom: var(--spacing-xl);
            flex-wrap: wrap;
        }

        .tab-btn {
            padding: var(--spacing-md) var(--spacing-xl);
            background: white;
            border: 2px solid var(--color-border);
            border-radius: 30px;
            color: var(--color-gray);
            font-weight: var(--font-weight-medium);
            cursor: pointer;
            transition: all var(--transition-normal);
            font-family: var(--font-primary);
        }

        .tab-btn:hover {
            border-color: var(--color-deep);
            color: var(--color-deep);
        }

        .tab-btn.active {
            background: var(--color-deep);
            color: white;
            border-color: var(--color-deep);
        }

        .tab-content {
            background: white;
            border-radius: 20px;
            padding: var(--spacing-2xl);
            box-shadow: var(--shadow-lg);
        }

        .tab-pane {
            display: none;
        }

        .tab-pane.active {
            display: block;
        }

        .tab-inner {
            text-align: center;
            max-width: 800px;
            margin: 0 auto;
        }

        .tab-icon {
            font-size: 4rem;
            margin-bottom: var(--spacing-lg);
        }

        .tab-inner h3 {
            color: var(--color-deep);
            font-size: 2rem;
            margin-bottom: var(--spacing-lg);
            font-weight: var(--font-weight-black);
        }

        .tab-inner p {
            line-height: 1.8;
            margin-bottom: var(--spacing-xl);
            color: var(--color-gray);
        }

        .tab-icon {
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1.5rem;
        }

        .tab-icon img {
            max-height: 60px;
            width: auto;
            object-fit: contain;
        }

        /* Ensure icon-md class works properly (from main.css) */
        .icon-md {
            width: 24px;
            height: 24px;
            object-fit: contain;
        }

        /* Override icon-md size when inside tab-icon */
        .tab-icon .icon-md {
            width: auto;
            height: 60px;
            max-height: 60px;
        }

        /* Keep the rest of your existing styles for the tabs */
        .tab-inner {
            text-align: center;
            max-width: 800px;
            margin: 0 auto;
        }

        .tab-inner h3 {
            color: #155487;
            font-size: 2rem;
            margin-bottom: 1.5rem;
            font-weight: 900;
        }

        .tab-inner p {
            line-height: 1.8;
            margin-bottom: 2rem;
            color: #666;
            text-align: left;
        }

        .tab-content {
            background: white;
            border-radius: 20px;
            padding: 3rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            min-height: 450px;
        }

        /* Steps Section */
        .steps-section {
            padding: var(--spacing-md) 0;
            background: white;
        }

        .steps-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: var(--spacing-xl);
            margin-top: var(--spacing-xl);
        }

        .step {
            text-align: center;
            padding: var(--spacing-xl);
        }

        .step-number {
            width: 60px;
            height: 60px;
            background: var(--color-deep);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: var(--font-weight-bold);
            margin: 0 auto var(--spacing-md);
        }

        .step h3 {
            color: var(--color-deep);
            margin-bottom: var(--spacing-md);
            font-weight: var(--font-weight-black);
        }

        .step p {
            color: var(--color-gray);
            line-height: 1.8;
        }

        /* Mobile Responsive Overrides */
        @media (max-width: 1200px) {
            .speakers-showcase {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (max-width: 992px) {
            .speakers-showcase {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .ways-grid {
                gap: var(--spacing-lg);
            }
        }

        @media (max-width: 768px) {
            .hero {
                padding: 6rem 0 3rem;
                min-height: 60vh;
                padding-top: calc(var(--header-height-mobile) + 6rem);
            }

            .hero h1 {
                font-size: 2rem;
            }

            .hero .subtitle {
                font-size: 1.2rem;
            }

            .hero p {
                font-size: 1rem;
            }

            .ways-grid,
            .steps-grid {
                grid-template-columns: 1fr;
            }

            .section-header {
                flex-direction: column;
                align-items: start;
                gap: var(--spacing-md);
            }

            .section-header h2 {
                font-size: 1.8rem;
            }

            .speakers-showcase {
                grid-template-columns: repeat(2, 1fr);
                gap: var(--spacing-md);
            }

            .speaker-image-container {
                height: 160px;
            }

            .speaker-info {
                padding: var(--spacing-md);
            }

            .speaker-name {
                font-size: 1.1rem;
            }

            .speaker-footer {
                padding: var(--spacing-sm) var(--spacing-md);
            }

            .tab-buttons {
                flex-direction: column;
                align-items: stretch;
            }

            .tab-btn {
                width: 100%;
            }

            .tab-content {
                padding: var(--spacing-lg);
            }

            .tab-inner h3 {
                font-size: 1.5rem;
            }

            .steps-grid {
                gap: var(--spacing-lg);
            }

            .step {
                padding: var(--spacing-md);
            }
        }

        @media (max-width: 576px) {
            .hero h1 {
                font-size: 1.75rem;
            }

            .speakers-showcase {
                grid-template-columns: 1fr;
            }

            .speaker-image-container {
                height: 200px;
            }

            .speaker-initials-large {
                font-size: 2.5rem;
            }

            .speaker-info {
                padding: var(--spacing-lg);
            }

            .speaker-name {
                font-size: 1.25rem;
            }

            .section-title h2 {
                font-size: 1.8rem;
            }

            .section-title h3 {
                font-size: 1.25rem;
            }

            .way-card h3 {
                font-size: 1.25rem;
            }
        }

        @media (max-width: 400px) {
            .featured-speakers {
                padding: var(--spacing-xl) 0;
            }

            .section-header h2 {
                font-size: 1.5rem;
            }

            .speaker-image-container {
                height: 180px;
            }
        }
    </style>
</head>
<body>
    <!-- Header will be auto-injected by header.js -->

    <!-- Hero Section -->
    <section id="home" class="hero">
        <div class="container">
            <div class="hero-content">
                <h1>Where in the world can we help you with your outreach?</h1>
                <div class="subtitle">Community Outreach. Voices everywhere.</div>
                <p>CoveTalks fulfills the speaking needs of charitable, service, educational, philanthropic and religious organizations around the world.</p>
                <div class="hero-cta">
                    <a href="/register.html" class="btn btn-primary btn-lg">Join the Community</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Find Your Voice Section -->
    <section class="two-ways">
        <div class="container">
            <div class="section-title">
                <h2>Find your voice. Inspire your audience.</h2>
                <p>Unlock the unique power of authentic and inspiring industry expert speakers. COVETALKS connects Subject Matter Experts and industry experts directly with the organizations that need their unique voice and knowledge.</p>
                <h3>TWO WAYS TO UTILIZE COVETALKS:</h3>
            </div>
            
            <div class="ways-grid">
                <div class="way-card">
                    <h3>BECOME A REGISTERED COVETALKER</h3>
                    <p>Our registered members can take advantage of our extensive database of CoveTalking opportunities. From nonprofits to Fortune 500 companies, everyone needs an expert to come &amp; speak about something.</p>
                    <a href="/register.html" class="btn btn-primary">Become a CoveTalker</a>
                </div>
                <div class="way-card">
                    <h3>LIST YOUR NEED FOR A COVETALKER</h3>
                    <p>Organizations of all sizes can utilize <strong>COVE</strong>TALKS to post speaking opportunities as the need arises. Our members quickly submit their proposal for consideration, and a speaker is quickly &amp; easily booked.</p>
                    <a href="/register.html" class="btn btn-primary">List Your Need</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Featured Speakers Section -->
    <section class="featured-speakers">
        <div class="container">
            <div class="section-header">
                <div>
                    <h2>Featured Speakers</h2>
                    <p>Discover expert speakers ready to inspire your audience</p>
                </div>
                <a href="/members.html" class="view-all-link">
                    View all speakers
                    <span style="font-size: 1.2rem;">‚Üí</span>
                </a>
            </div>
            
            <div class="speakers-showcase" id="speakersShowcase">
                <!-- Loading skeletons -->
                <div class="speaker-skeleton">
                    <div class="skeleton-image"></div>
                    <div class="skeleton-content">
                        <div class="skeleton-line"></div>
                        <div class="skeleton-line short"></div>
                        <div class="skeleton-line"></div>
                    </div>
                </div>
                <div class="speaker-skeleton">
                    <div class="skeleton-image"></div>
                    <div class="skeleton-content">
                        <div class="skeleton-line"></div>
                        <div class="skeleton-line short"></div>
                        <div class="skeleton-line"></div>
                    </div>
                </div>
                <div class="speaker-skeleton">
                    <div class="skeleton-image"></div>
                    <div class="skeleton-content">
                        <div class="skeleton-line"></div>
                        <div class="skeleton-line short"></div>
                        <div class="skeleton-line"></div>
                    </div>
                </div>
                <div class="speaker-skeleton">
                    <div class="skeleton-image"></div>
                    <div class="skeleton-content">
                        <div class="skeleton-line"></div>
                        <div class="skeleton-line short"></div>
                        <div class="skeleton-line"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Organizations Section with Tabs -->
    <section class="organizations">
        <div class="container">
            <div class="section-title">
                <h2>JOIN THE WORLD'S LEADING COVETALK SERVICE</h2>
                <p>COVETALKS is an inter-active website connecting your organization to individuals who are willing to speak without charging a fee.</p>
            </div>
            
            <!-- Organization Tabs -->
            <div class="org-tabs">
                <div class="tab-buttons">
                    <button class="tab-btn active" data-tab="nonprofits">NON-PROFITS</button>
                    <button class="tab-btn" data-tab="education">EDUCATION/SCHOOLS</button>
                    <button class="tab-btn" data-tab="religious">RELIGIOUS/CHURCHES</button>
                    <button class="tab-btn" data-tab="youth">YOUTH GROUPS</button>
                </div>
                
                <div class="tab-content">
                    <div id="nonprofits" class="tab-pane active">
                        <div class="tab-inner">
                            <div class="tab-icon">
                                <img src="/Images/non_profit_icon.png" alt="Non-Profits" class="icon-md">
                            </div>
                            <h3>Non-Profits</h3>
                            <p>Non-profits and Classrooms gain substantial advantages by engaging external experts for training and development, as these specialists bring new perspectives and targeted expertise that may not be readily available within the organization. Experts can introduce staff to the latest strategies in fundraising, volunteer management, community outreach, and digital tools that improve operational efficiency and expand impact.</p>
                            <a href="/register.html" class="btn btn-primary">Register Your Non-Profit</a>
                        </div>
                    </div>
                    
                    <div id="education" class="tab-pane">
                        <div class="tab-inner">
                            <div class="tab-icon">
                                <img src="/Images/education_icon.png" alt="Education/Schools" class="icon-md">
                            </div>
                            <h3>Education/Schools</h3>
                            <p>Schools and educational institutions benefit immensely from bringing in external experts for training and professional development, as these professionals offer fresh perspectives and specialized knowledge that may not be present within the institution. Experts can introduce educators to the latest research-based teaching strategies, classroom management techniques, and technology tools that enhance student engagement and learning outcomes.</p>
                            <a href="/register.html" class="btn btn-primary">Register Your School</a>
                        </div>
                    </div>
                    
                    <div id="religious" class="tab-pane">
                        <div class="tab-inner">
                            <div class="tab-icon">
                                <img src="/Images/church_icon.png" alt="Religious/Churches" class="icon-md">
                            </div>
                            <h3>Religious/Churches</h3>
                            <p>Religious organizations and churches benefit significantly from bringing in external experts for training and development, as these professionals offer fresh insights and specialized knowledge that may not be available within the congregation. Experts can introduce ministry teams to effective community outreach strategies, volunteer engagement techniques, and technology tools that enhance worship and communication.</p>
                            <a href="/register.html" class="btn btn-primary">Register Your Organization</a>
                        </div>
                    </div>
                    
                    <div id="youth" class="tab-pane">
                        <div class="tab-inner">
                            <div class="tab-icon">
                                <img src="/Images/youth_icon.png" alt="Youth Groups" class="icon-md">
                            </div>
                            <h3>Youth Groups</h3>
                            <p>Youth groups gain tremendous value from bringing in external experts for training and skill development, as these professionals provide fresh perspectives and expertise that complement the organization's mission. Experts can introduce leaders to innovative approaches in youth mentoring, team-building exercises, outdoor skills, and safety practices that enhance program quality and engagement.</p>
                            <a href="/register.html" class="btn btn-primary">Register Your Youth Group</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Steps Section -->
    <section class="steps-section">
        <div class="container">
            <div class="section-title">
                <h2>WHAT ARE THE NEXT STEPS?</h2>
            </div>
            
            <div class="steps-grid">
                <div class="step">
                    <div class="step-number">1</div>
                    <h3>REGISTER</h3>
                    <p>Whether you're a CoveTalker or an organization, registration is FREE. Take advantage of our search tools and find the best fit for you.</p>
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <h3>CONNECT</h3>
                    <p>Search for the best fit for you and your goals. Find an industry expert or more information on an up and coming topic. We've got it all!</p>
                </div>
                <div class="step">
                    <div class="step-number">3</div>
                    <h3>REVIEW</h3>
                    <p>Leaving a review of your experience helps the community grow and learn what works, and what doesn't.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer will be auto-injected by footer.js -->

    <!-- Load Supabase from CDN -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    
    <!-- Load config and Supabase client -->
    <script src="/js/config.js"></script>
    <script src="/js/supabase-client.js"></script>
    
    <!-- Load header and footer components -->
    <script src="/js/components/header.js"></script>
    <script src="/js/components/footer.js"></script>
    
    <!-- Page-specific JavaScript -->
    <script>
        // Page state
        let currentUser = null;
        let featuredSpeakers = [];

        // Initialize page
        async function initializePage() {
            try {
                // Wait for Supabase
                await waitForSupabase();
                
                // Check authentication (header component will handle nav updates)
                const session = await window.covetalks.checkAuth();
                if (session) {
                    currentUser = await window.covetalks.getMemberProfile(session.user.id);
                }

                // Load featured speakers
                await loadFeaturedSpeakers();

                // Setup tabs
                setupTabs();

            } catch (error) {
                console.error('Initialization error:', error);
                displayEnhancedFallbackSpeakers();
            }
        }

        // Wait for Supabase client
        function waitForSupabase() {
            return new Promise((resolve) => {
                let attempts = 0;
                const maxAttempts = 20;
                
                function check() {
                    attempts++;
                    if (typeof window.covetalks !== 'undefined' && window.covetalks.supabase) {
                        resolve();
                    } else if (attempts < maxAttempts) {
                        setTimeout(check, 250);
                    } else {
                        console.error('Failed to initialize Supabase client');
                        displayEnhancedFallbackSpeakers();
                        resolve();
                    }
                }
                check();
            });
        }

        // Load featured speakers
        async function loadFeaturedSpeakers() {
            try {
                const { data: speakers, error } = await window.covetalks.supabase
                    .from('members')
                    .select('*')
                    .eq('member_type', 'Speaker')
                    .order('average_rating', { ascending: false, nullsFirst: false })
                    .limit(4);

                if (error) throw error;

                if (speakers && speakers.length > 0) {
                    displayEnhancedSpeakers(speakers);
                } else {
                    displayEnhancedFallbackSpeakers();
                }
            } catch (error) {
                console.error('Error loading speakers:', error);
                displayEnhancedFallbackSpeakers();
            }
        }

        // Display speakers
        function displayEnhancedSpeakers(speakers) {
            const showcase = document.getElementById('speakersShowcase');
            
            showcase.innerHTML = speakers.map((speaker, index) => {
                const initials = speaker.name ? 
                    speaker.name.split(' ').map(n => n[0]).join('').toUpperCase().slice(0, 2) : 
                    '??';
                
                const imageContent = speaker.profile_image_url ? 
                    `<img src="${speaker.profile_image_url}" alt="${speaker.name}" class="speaker-image">` :
                    `<div class="speaker-initials-large">${initials}</div>`;
                
                const specialties = Array.isArray(speaker.specialties) ? speaker.specialties : [];
                
                // Determine badge type
                let badgeHtml = '';
                if (index === 0) {
                    badgeHtml = '<div class="speaker-badge badge-featured">Featured</div>';
                } else if (speaker.created_at && isNewSpeaker(speaker.created_at)) {
                    badgeHtml = '<div class="speaker-badge badge-new">New</div>';
                } else if (speaker.average_rating >= 4.5) {
                    badgeHtml = '<div class="speaker-badge badge-verified">Top Rated</div>';
                }
                
                // Generate star rating
                const rating = speaker.average_rating || 4.5;
                const starsHtml = generateStars(rating);
                const reviewCount = speaker.total_reviews || Math.floor(Math.random() * 20) + 5;
                
                // Tagline
                const tagline = speaker.bio ? 
                    speaker.bio.substring(0, 80) + (speaker.bio.length > 80 ? '...' : '') :
                    'Inspiring speaker ready to engage your audience';
                
                return `
                    <div class="speaker-showcase-card" onclick="viewSpeaker('${speaker.id}')">
                        <div class="speaker-image-container">
                            ${imageContent}
                            ${badgeHtml}
                        </div>
                        <div class="speaker-info">
                            <h3 class="speaker-name">${speaker.name || 'Speaker'}</h3>
                            <p class="speaker-tagline">${tagline}</p>
                            <div class="speaker-location">${speaker.location || 'Available Worldwide'}</div>
                            
                            <div class="speaker-specialties">
                                ${specialties.slice(0, 2).map(tag => 
                                    `<span class="specialty-tag">${tag}</span>`
                                ).join('')}
                                ${specialties.length > 2 ? 
                                    `<span class="more-tags">+${specialties.length - 2} more</span>` : 
                                    ''}
                            </div>
                            
                            <div class="speaker-rating">
                                <div class="stars">${starsHtml}</div>
                                <span class="rating-count">(${reviewCount})</span>
                            </div>
                        </div>
                        <div class="speaker-footer">
                            <div class="availability-status">
                                <span class="status-dot"></span>
                                <span>Available</span>
                            </div>
                            <button class="view-profile-btn" onclick="event.stopPropagation(); viewSpeaker('${speaker.id}')">
                                View Profile
                            </button>
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Display fallback speakers
        function displayEnhancedFallbackSpeakers() {
            const fallbackSpeakers = [
                {
                    id: 'sample1',
                    name: 'Dr. Sarah Johnson',
                    location: 'New York, NY',
                    bio: 'Leadership Expert & Business Strategist with 15+ years helping Fortune 500 companies transform their culture',
                    specialties: ['Leadership', 'Business Strategy', 'Team Building'],
                    average_rating: 4.9,
                    total_reviews: 47,
                    created_at: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000).toISOString()
                },
                {
                    id: 'sample2',
                    name: 'Marcus Chen',
                    location: 'San Francisco, CA',
                    bio: 'Tech Futurist & AI Specialist helping organizations navigate digital transformation',
                    specialties: ['Artificial Intelligence', 'Digital Transformation', 'Innovation'],
                    average_rating: 4.7,
                    total_reviews: 32,
                    created_at: new Date().toISOString()
                },
                {
                    id: 'sample3',
                    name: 'Elena Rodriguez',
                    location: 'Chicago, IL',
                    bio: 'Diversity & Inclusion Advocate creating more equitable workplaces',
                    specialties: ['Workplace Diversity', 'Inclusive Leadership', 'Culture Change'],
                    average_rating: 4.8,
                    total_reviews: 28,
                    created_at: new Date(Date.now() - 60 * 24 * 60 * 60 * 1000).toISOString()
                },
                {
                    id: 'sample4',
                    name: 'Dr. James Wilson',
                    location: 'Seattle, WA',
                    bio: 'Sustainability Expert & Environmental Scientist driving corporate climate action',
                    specialties: ['Climate Action', 'Corporate Sustainability', 'Green Technology'],
                    average_rating: 4.9,
                    total_reviews: 41,
                    created_at: new Date(Date.now() - 90 * 24 * 60 * 60 * 1000).toISOString()
                }
            ];
            
            displayEnhancedSpeakers(fallbackSpeakers);
        }

        // Generate star HTML
        function generateStars(rating) {
            const fullStars = Math.floor(rating);
            const hasHalfStar = rating % 1 >= 0.5;
            const emptyStars = 5 - fullStars - (hasHalfStar ? 1 : 0);
            
            let starsHtml = '';
            for (let i = 0; i < fullStars; i++) {
                starsHtml += '<span class="star">‚òÖ</span>';
            }
            if (hasHalfStar) {
                starsHtml += '<span class="star">‚òÖ</span>';
            }
            for (let i = 0; i < emptyStars; i++) {
                starsHtml += '<span class="star empty">‚òÜ</span>';
            }
            return starsHtml;
        }

        // Check if speaker is new
        function isNewSpeaker(createdAt) {
            const thirtyDaysAgo = new Date();
            thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30);
            return new Date(createdAt) > thirtyDaysAgo;
        }

        // View speaker profile
        function viewSpeaker(speakerId) {
            if (currentUser) {
                window.location.href = `/profile.html?id=${speakerId}`;
            } else {
                window.location.href = '/register.html';
            }
        }

        // Setup tabs
        function setupTabs() {
            const tabButtons = document.querySelectorAll('.tab-btn');
            const tabPanes = document.querySelectorAll('.tab-pane');

            tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const targetTab = button.dataset.tab;

                    // Remove active class from all
                    tabButtons.forEach(btn => btn.classList.remove('active'));
                    tabPanes.forEach(pane => pane.classList.remove('active'));

                    // Add active class to clicked
                    button.classList.add('active');
                    document.getElementById(targetTab).classList.add('active');
                });
            });
        }

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Initialize on load
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initializePage);
        } else {
            initializePage();
        }
    </script>

    <!-- Service Worker Registration -->
    <script src="/js/sw-register.js"></script>
    
</body>
</html>