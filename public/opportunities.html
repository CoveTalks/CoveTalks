<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Speaking Opportunities - CoveTalks</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f8f9fa;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header Styles */
        header {
            background: white;
            color: #333;
            padding: 1rem 0;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: inline-flex;
            align-items: center;
            text-decoration: none;
        }
        
        .logo-img {
            height: 70px;
            width: auto;
            display: block;
        }
        
        @media (max-width: 768px) {
            .logo-img {
                height: 50px;
            }
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        .nav-links a {
            color: #333;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
        }

        .nav-links a:hover {
            color: #155588;
        }

        .nav-links a.active {
            color: #155588;
            border-bottom: 2px solid #155588;
            padding-bottom: 2px;
        }

        .nav-right {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .user-menu {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea, #1e93b7);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            cursor: pointer;
        }

        .user-dropdown {
            position: relative;
        }

        .dropdown-menu {
            position: absolute;
            top: 100%;
            right: 0;
            background: white;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
            padding: 1rem 0;
            min-width: 200px;
            display: none;
            margin-top: 0.5rem;
        }

        .dropdown-menu.show {
            display: block;
        }

        .dropdown-menu a {
            display: block;
            padding: 0.5rem 1.5rem;
            color: #333;
            text-decoration: none;
            transition: background 0.3s;
        }

        .dropdown-menu a:hover {
            background: #f8f9fa;
        }

        .dropdown-divider {
            border-top: 1px solid #e1e8ed;
            margin: 0.5rem 0;
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
            transition: all 0.3s;
            font-weight: 500;
            text-align: center;
        }

        .btn-primary {
            background: #155588;
            color: white;
        }

        .btn-primary:hover {
            background: #1e3d6f;
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: transparent;
            color: #155588;
            border: 2px solid #155588;
        }

        .btn-secondary:hover {
            background: #155588;
            color: white;
        }

        .btn-success {
            background: #f2b236;
            color: white;
        }

        .btn-success:hover {
            background: #229954;
            transform: translateY(-2px);
        }

        .auth-buttons {
            display: flex;
            gap: 1rem;
        }

        /* Page Header */
        .page-header {
            background: linear-gradient(135deg, #667eea 0%, #1e93b7 100%);
            color: white;
            padding: 8rem 0 4rem;
            text-align: center;
        }

        .page-header h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .page-header p {
            font-size: 1.2rem;
            max-width: 600px;
            margin: 0 auto;
        }

        /* Main Content */
        .main-content {
            padding: 3rem 0;
            margin-top: -4rem;
        }

        /* Filters Section */
        .filters-section {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            margin-bottom: 2rem;
        }

        .filters-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .filters-header h2 {
            color: #155588;
            font-size: 1.3rem;
        }

        .filters-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }

        .filter-group {
            display: flex;
            flex-direction: column;
        }

        .filter-group label {
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: #666;
            font-size: 0.9rem;
        }

        .filter-group input,
        .filter-group select {
            padding: 0.75rem;
            border: 2px solid #e1e8ed;
            border-radius: 5px;
            transition: border-color 0.3s;
            font-family: inherit;
        }

        .filter-group input:focus,
        .filter-group select:focus {
            outline: none;
            border-color: #155588;
        }

        .filter-buttons {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }

        /* Opportunities Grid */
        .opportunities-container {
            display: grid;
            gap: 1.5rem;
        }

        .opportunity-card {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            transition: all 0.3s;
            border: 2px solid transparent;
        }

        .opportunity-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.12);
            border-color: #155588;
        }

        .opportunity-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 1rem;
        }

        .opportunity-title-section {
            flex: 1;
        }

        .opportunity-title {
            font-size: 1.3rem;
            color: #155588;
            margin-bottom: 0.5rem;
            font-weight: bold;
        }

        .opportunity-org {
            color: #666;
            font-size: 0.95rem;
            margin-bottom: 0.25rem;
        }

        .opportunity-location {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: #666;
            font-size: 0.9rem;
        }

        .opportunity-badge {
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: bold;
            text-align: center;
        }

        .badge-new {
            background: #d4edda;
            color: #f2b236;
        }

        .badge-urgent {
            background: #f8d7da;
            color: #e74c3c;
        }

        .badge-featured {
            background: #fff3cd;
            color: #f2b236;
        }

        .opportunity-details {
            margin: 1.5rem 0;
        }

        .opportunity-description {
            color: #555;
            line-height: 1.6;
            margin-bottom: 1rem;
        }

        .opportunity-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            padding: 1rem;
            background: #f8f9fa;
            border-radius: 10px;
            margin-top: 1rem;
        }

        .info-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .info-label {
            font-weight: 600;
            color: #666;
            font-size: 0.9rem;
        }

        .info-value {
            color: #333;
            font-size: 0.9rem;
        }

        .opportunity-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin: 1rem 0;
        }

        .tag {
            background: #e8f4fd;
            color: #155588;
            padding: 0.25rem 0.75rem;
            border-radius: 15px;
            font-size: 0.85rem;
        }

        .opportunity-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 1rem;
            border-top: 1px solid #e1e8ed;
        }

        .deadline-info {
            color: #666;
            font-size: 0.9rem;
        }

        .deadline-urgent {
            color: #e74c3c;
            font-weight: bold;
        }

        .opportunity-actions {
            display: flex;
            gap: 1rem;
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 4rem 2rem;
            background: white;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
        }

        .empty-state img {
            width: 150px;
            opacity: 0.5;
            margin-bottom: 1rem;
        }

        .empty-state h3 {
            color: #666;
            margin-bottom: 0.5rem;
        }

        .empty-state p {
            color: #999;
        }

        /* Loading State */
        .loading-container {
            text-align: center;
            padding: 4rem;
        }

        .loading-spinner {
            display: inline-block;
            width: 50px;
            height: 50px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid #155588;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Pagination */
        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 0.5rem;
            margin-top: 3rem;
        }

        .pagination button {
            padding: 0.5rem 1rem;
            border: 1px solid #e1e8ed;
            background: white;
            color: #666;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .pagination button:hover:not(:disabled) {
            background: #155588;
            color: white;
            border-color: #155588;
        }

        .pagination button.active {
            background: #155588;
            color: white;
            border-color: #155588;
        }

        .pagination button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Mobile Navigation */
        .hamburger {
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            width: 35px;
            height: 35px;
            cursor: pointer;
            z-index: 1002;
            background: none;
            border: none;
            padding: 5px;
        }

        .hamburger span {
            display: block;
            width: 25px;
            height: 3px;
            background: #333;
            margin: 3px 0;
            transition: all 0.3s ease;
            border-radius: 2px;
        }

        .hamburger.active span:nth-child(1) {
            transform: rotate(45deg) translate(5px, 5px);
        }

        .hamburger.active span:nth-child(2) {
            opacity: 0;
        }

        .hamburger.active span:nth-child(3) {
            transform: rotate(-45deg) translate(7px, -6px);
        }

        .mobile-menu-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 999;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .mobile-menu-overlay.show {
            display: block;
            opacity: 1;
        }

        .mobile-menu {
            position: fixed;
            top: 0;
            right: -320px;
            width: 300px;
            height: 100vh;
            background: white;
            z-index: 1001;
            transition: right 0.3s ease;
            overflow-y: auto;
            box-shadow: -5px 0 20px rgba(0,0,0,0.1);
        }

        .mobile-menu.show {
            right: 0;
        }

        .mobile-menu-header {
            padding: 1.5rem;
            border-bottom: 1px solid #e1e8ed;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .mobile-menu-close {
            width: 30px;
            height: 30px;
            background: none;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: #666;
        }

        .mobile-nav-links {
            list-style: none;
            padding: 1rem 0;
        }

        .mobile-nav-links li {
            border-bottom: 1px solid #f0f0f0;
        }

        .mobile-nav-links a {
            display: block;
            padding: 1rem 1.5rem;
            color: #333;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s;
        }

        .mobile-nav-links a:hover {
            background: #f8f9fa;
            color: #155588;
            padding-left: 2rem;
        }

        .mobile-nav-links a.active {
            color: #155588;
            background: #e8f4fd;
        }

        .mobile-user-section {
            padding: 1.5rem;
            border-bottom: 1px solid #e1e8ed;
            background: #f8f9fa;
        }

        .mobile-user-info {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .mobile-user-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea, #1e93b7);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .mobile-user-details h3 {
            margin: 0;
            color: #333;
        }

        .mobile-user-details p {
            margin: 0;
            color: #666;
            font-size: 0.9rem;
        }

        .mobile-auth-buttons {
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .mobile-auth-buttons .btn {
            width: 100%;
            text-align: center;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .nav-links {
                display: none !important;
            }
            
            .auth-buttons.desktop-only {
                display: none !important;
            }
            
            .hamburger {
                display: flex;
            }
            
            header {
                padding: 0.75rem 0;
            }
            
            body {
                padding-top: 60px;
            }

            .page-header h1 {
                font-size: 2rem;
            }

            .filters-grid {
                grid-template-columns: 1fr;
            }

            .opportunity-header {
                flex-direction: column;
                gap: 1rem;
            }

            .opportunity-footer {
                flex-direction: column;
                gap: 1rem;
                align-items: start;
            }

            .opportunity-actions {
                width: 100%;
            }

            .opportunity-actions .btn {
                flex: 1;
            }
        }

        @media (max-width: 480px) {
            .mobile-menu {
                width: 85vw;
                right: -85vw;
            }
        }

        /* Footer */
        footer {
            background: #2c3e50;
            color: white;
            padding: 3rem 0 1rem;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .footer-section h3 {
            margin-bottom: 1rem;
            color: #f2b236;
        }

        .footer-section a {
            color: #bdc3c7;
            text-decoration: none;
            display: block;
            margin-bottom: 0.5rem;
            transition: color 0.3s;
        }

        .footer-section a:hover {
            color: #f2b236;
        }

        .footer-bottom {
            border-top: 1px solid #34495e;
            padding-top: 1rem;
            text-align: center;
            color: #bdc3c7;
        }
    </style>
</head>
<body>
    <header>
        <div class="nav-container">
            <nav>
                <!-- Logo -->
                <a href="index.html" class="logo">
                    <img src="/Images/CoveTalks_logo.svg" alt="CoveTalks" class="logo-img">
                </a>
                
                <!-- Desktop Navigation -->
                <!-- Logged Out Navigation -->
                <ul class="nav-links nav-logged-out" id="navLoggedOut">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="members.html">Find Speakers</a></li>
                    <li><a href="pricing.html">Pricing</a></li>
                    <li><a href="register.html">Register</a></li>
                    <li><a href="contact.html">Contact</a></li>
                </ul>
                
                <!-- Logged In Navigation (Speakers) -->
                <ul class="nav-links nav-logged-in nav-speaker" id="navSpeaker" style="display: none;">
                    <li><a href="dashboard.html">Dashboard</a></li>
                    <li><a href="members.html">Find Speakers</a></li>
                    <li><a href="opportunities.html" class="active">Opportunities</a></li>
                    <li><a href="bookings.html">My Bookings</a></li>
                    <li><a href="profile.html">Profile</a></li>
                </ul>
                
                <!-- Logged In Navigation (Organizations) -->
                <ul class="nav-links nav-logged-in nav-organization" id="navOrganization" style="display: none;">
                    <li><a href="organization-dashboard.html">Dashboard</a></li>
                    <li><a href="members.html">Find Speakers</a></li>
                    <li><a href="post-opportunity.html">Post Opportunity</a></li>
                    <li><a href="my-opportunities.html">My Opportunities</a></li>
                    <li><a href="saved-speakers.html">Saved Speakers</a></li>
                </ul>

                <!-- Right Side Navigation -->
                <div class="nav-right">
                    <!-- For Logged In Users -->
                    <div class="user-menu" id="userMenuDesktop" style="display: none;">
                        <div class="user-dropdown">
                            <div class="user-avatar" onclick="toggleDropdown()" id="userAvatar">JD</div>
                            <div class="dropdown-menu" id="dropdownMenu">
                                <a href="profile-edit.html">Edit Profile</a>
                                <a href="settings.html">Settings</a>
                                <a href="billing.html">Billing</a>
                                <div class="dropdown-divider"></div>
                                <a href="#" onclick="logout()">Logout</a>
                            </div>
                        </div>
                    </div>

                    <!-- For Logged Out Users -->
                    <div class="auth-buttons desktop-only" id="authButtonsDesktop">
                        <a href="register.html" class="btn btn-secondary">Join</a>
                        <a href="login.html" class="btn btn-primary">Login</a>
                    </div>

                    <!-- Hamburger Menu Button -->
                    <button class="hamburger" id="hamburger" onclick="toggleMobileMenu()">
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>
                </div>
            </nav>
        </div>
    </header>

    <!-- Mobile Menu Overlay -->
    <div class="mobile-menu-overlay" id="mobileMenuOverlay" onclick="closeMobileMenu()"></div>

    <!-- Mobile Menu Panel -->
    <div class="mobile-menu" id="mobileMenu">
        <div class="mobile-menu-header">
            <a href="index.html" class="logo">
                <img src="/Images/CoveTalks_logo.svg" alt="CoveTalks" class="logo-img">
            </a>
            <button class="mobile-menu-close" onclick="closeMobileMenu()">✕</button>
        </div>

        <!-- Mobile User Section (for logged in users) -->
        <div class="mobile-user-section" id="mobileUserSection" style="display: none;">
            <div class="mobile-user-info">
                <div class="mobile-user-avatar" id="mobileUserAvatar">JD</div>
                <div class="mobile-user-details">
                    <h3 id="mobileUserName">John Doe</h3>
                    <p id="mobileUserType">Speaker - Plus Plan</p>
                </div>
            </div>
        </div>

        <!-- Mobile Navigation Links -->
        <!-- Logged Out Mobile Navigation -->
        <ul class="mobile-nav-links mobile-nav-logged-out" id="mobileNavLoggedOut">
            <li><a href="index.html">Home</a></li>
            <li><a href="members.html">Find Speakers</a></li>
            <li><a href="pricing.html">Pricing</a></li>
            <li><a href="register.html">Register</a></li>
            <li><a href="contact.html">Contact</a></li>
            <li><a href="help.html">Help Center</a></li>
        </ul>

        <!-- Logged In Mobile Navigation (Speakers) -->
        <ul class="mobile-nav-links mobile-nav-logged-in mobile-nav-speaker" id="mobileNavSpeaker" style="display: none;">
            <li><a href="dashboard.html">Dashboard</a></li>
            <li><a href="members.html">Find Speakers</a></li>
            <li><a href="opportunities.html" class="active">Opportunities</a></li>
            <li><a href="bookings.html">My Bookings</a></li>
            <li><a href="profile.html">Profile</a></li>
            <li><a href="settings.html">Settings</a></li>
            <li><a href="billing.html">Billing</a></li>
            <li><a href="help.html">Help & Support</a></li>
        </ul>

        <!-- Logged In Mobile Navigation (Organizations) -->
        <ul class="mobile-nav-links mobile-nav-logged-in mobile-nav-organization" id="mobileNavOrganization" style="display: none;">
            <li><a href="organization-dashboard.html">Dashboard</a></li>
            <li><a href="members.html">Find Speakers</a></li>
            <li><a href="post-opportunity.html">Post Opportunity</a></li>
            <li><a href="my-opportunities.html">My Opportunities</a></li>
            <li><a href="saved-speakers.html">Saved Speakers</a></li>
            <li><a href="settings.html">Settings</a></li>
            <li><a href="team.html">Team Members</a></li>
            <li><a href="help.html">Help & Support</a></li>
        </ul>

        <!-- Mobile Auth Buttons (for logged out users) -->
        <div class="mobile-auth-buttons" id="mobileAuthButtons">
            <a href="register.html" class="btn btn-secondary">Join Community</a>
            <a href="login.html" class="btn btn-primary">Login</a>
        </div>

        <!-- Mobile Logout Button (for logged in users) -->
        <div class="mobile-auth-buttons" id="mobileLogoutSection" style="display: none;">
            <button class="btn btn-primary" onclick="logout()">Logout</button>
        </div>
    </div>

    <!-- Page Header -->
    <div class="page-header">
        <div class="container">
            <h1>Speaking Opportunities</h1>
            <p>Find your next speaking engagement and share your expertise</p>
        </div>
    </div>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- Filters Section -->
            <div class="filters-section">
                <div class="filters-header">
                    <h2>Filter Opportunities</h2>
                    <span id="resultsCount">Loading opportunities...</span>
                </div>
                
                <div class="filters-grid">
                    <div class="filter-group">
                        <label for="locationFilter">Location</label>
                        <input type="text" id="locationFilter" placeholder="City, State, or Remote">
                    </div>
                    
                    <div class="filter-group">
                        <label for="topicFilter">Topic/Category</label>
                        <select id="topicFilter">
                            <option value="">All Topics</option>
                            <option value="Business">Business & Leadership</option>
                            <option value="Technology">Technology & Innovation</option>
                            <option value="Health">Health & Wellness</option>
                            <option value="Education">Education & Training</option>
                            <option value="Marketing">Marketing & Sales</option>
                            <option value="Finance">Finance & Investment</option>
                            <option value="Personal">Personal Development</option>
                        </select>
                    </div>
                    
                    <div class="filter-group">
                        <label for="dateFilter">Event Date</label>
                        <select id="dateFilter">
                            <option value="">Any Time</option>
                            <option value="week">Next 7 Days</option>
                            <option value="month">Next 30 Days</option>
                            <option value="quarter">Next 3 Months</option>
                        </select>
                    </div>
                    
                    <div class="filter-group">
                        <label for="typeFilter">Event Type</label>
                        <select id="typeFilter">
                            <option value="">All Types</option>
                            <option value="Keynote">Keynote</option>
                            <option value="Workshop">Workshop</option>
                            <option value="Panel">Panel Discussion</option>
                            <option value="Webinar">Webinar/Virtual</option>
                            <option value="Training">Training Session</option>
                        </select>
                    </div>
                </div>
                
                <div class="filter-buttons">
                    <button class="btn btn-primary" onclick="applyFilters()">Apply Filters</button>
                    <button class="btn btn-secondary" onclick="clearFilters()">Clear All</button>
                </div>
            </div>

            <!-- Opportunities List -->
            <div class="opportunities-container" id="opportunitiesList">
                <div class="loading-container">
                    <div class="loading-spinner"></div>
                    <p>Loading opportunities...</p>
                </div>
            </div>

            <!-- Pagination -->
            <div class="pagination" id="paginationContainer" style="display: none;">
                <button onclick="previousPage()" id="prevBtn" disabled>Previous</button>
                <button class="active" onclick="goToPage(1)">1</button>
                <button onclick="goToPage(2)">2</button>
                <button onclick="goToPage(3)">3</button>
                <button onclick="goToPage(4)">4</button>
                <button onclick="nextPage()" id="nextBtn">Next</button>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>CoveTalks</h3>
                    <p>Connecting speakers with organizations worldwide to create meaningful opportunities and lasting relationships.</p>
                </div>
                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <a href="index.html">Home</a>
                    <a href="members.html">Members</a>
                    <a href="register.html">Register</a>
                    <a href="pricing.html">Pricing</a>
                </div>
                <div class="footer-section">
                    <h3>Support</h3>
                    <a href="#">Help Center</a>
                    <a href="#">Contact Us</a>
                    <a href="#">Privacy Policy</a>
                    <a href="#">Terms of Service</a>
                </div>
                <div class="footer-section">
                    <h3>Connect</h3>
                    <a href="#">LinkedIn</a>
                    <a href="#">Twitter</a>
                    <a href="#">Facebook</a>
                    <a href="#">Email</a>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; <script>document.write(new Date().getFullYear());</script> CoveTalks. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Include the API client and navigation -->
    <script src="/js/app.js"></script>
    <script src="/js/navigation.js"></script>
    
    <script>
        // Page state
        let currentPage = 1;
        const itemsPerPage = 10;
        let allOpportunities = [];
        let filteredOpportunities = [];

        // Initialize page - This runs AFTER authentication is verified
        function initializePage() {
            loadOpportunities();
        }

        // Load opportunities
        async function loadOpportunities(filters = {}) {
            try {
                const opportunitiesData = await api.getOpportunities(filters);
                
                if (opportunitiesData && opportunitiesData.opportunities) {
                    allOpportunities = opportunitiesData.opportunities;
                    filteredOpportunities = allOpportunities;
                    displayOpportunities();
                    document.getElementById('paginationContainer').style.display = 'flex';
                } else {
                    displaySampleOpportunities();
                }
            } catch (error) {
                console.error('Error loading opportunities:', error);
                displaySampleOpportunities();
            }
        }

        // Display sample opportunities (fallback)
        function displaySampleOpportunities() {
            const container = document.getElementById('opportunitiesList');
            container.innerHTML = `
                <div class="opportunity-card">
                    <div class="opportunity-header">
                        <div class="opportunity-title-section">
                            <h3 class="opportunity-title">Keynote Speaker - Annual Business Summit 2024</h3>
                            <div class="opportunity-org">Phoenix Chamber of Commerce</div>
                            <div class="opportunity-location">
                                📍 Phoenix Convention Center, AZ
                            </div>
                        </div>
                        <div class="opportunity-badge badge-new">NEW</div>
                    </div>
                    
                    <div class="opportunity-details">
                        <p class="opportunity-description">
                            We're seeking an experienced business leader to deliver a 45-minute keynote on digital transformation and innovation in the post-pandemic era.
                        </p>
                        
                        <div class="opportunity-info">
                            <div class="info-item">
                                <span class="info-label">📅 Date:</span>
                                <span class="info-value">March 15, 2024</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">⏰ Duration:</span>
                                <span class="info-value">45 minutes</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">👥 Audience:</span>
                                <span class="info-value">500+ executives</span>
                            </div>
                        </div>
                        
                        <div class="opportunity-tags">
                            <span class="tag">Business Leadership</span>
                            <span class="tag">Digital Transformation</span>
                            <span class="tag">Keynote</span>
                        </div>
                    </div>
                    
                    <div class="opportunity-footer">
                        <div class="deadline-info">
                            Application deadline: <span class="deadline-urgent">5 days left</span>
                        </div>
                        <div class="opportunity-actions">
                            <button class="btn btn-secondary" onclick="viewDetails('sample1')">View Details</button>
                            <button class="btn btn-primary" onclick="applyNow('sample1')">Apply Now</button>
                        </div>
                    </div>
                </div>

                <div class="opportunity-card">
                    <div class="opportunity-header">
                        <div class="opportunity-title-section">
                            <h3 class="opportunity-title">Workshop Facilitator - Youth Leadership Program</h3>
                            <div class="opportunity-org">Desert Ridge High School</div>
                            <div class="opportunity-location">
                                📍 Scottsdale, AZ
                            </div>
                        </div>
                        <div class="opportunity-badge badge-featured">FEATURED</div>
                    </div>
                    
                    <div class="opportunity-details">
                        <p class="opportunity-description">
                            Looking for an inspiring speaker to conduct a 2-hour workshop on goal setting and personal development for high school students.
                        </p>
                        
                        <div class="opportunity-info">
                            <div class="info-item">
                                <span class="info-label">📅 Date:</span>
                                <span class="info-value">February 20, 2024</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">⏰ Duration:</span>
                                <span class="info-value">2 hours</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">👥 Audience:</span>
                                <span class="info-value">150 students</span>
                            </div>
                        </div>
                        
                        <div class="opportunity-tags">
                            <span class="tag">Education</span>
                            <span class="tag">Youth Development</span>
                            <span class="tag">Workshop</span>
                        </div>
                    </div>
                    
                    <div class="opportunity-footer">
                        <div class="deadline-info">
                            Application deadline: <span>10 days left</span>
                        </div>
                        <div class="opportunity-actions">
                            <button class="btn btn-secondary" onclick="viewDetails('sample2')">View Details</button>
                            <button class="btn btn-primary" onclick="applyNow('sample2')">Apply Now</button>
                        </div>
                    </div>
                </div>
            `;
            
            document.getElementById('resultsCount').textContent = 'Showing sample opportunities';
        }

        // Display opportunities
        function displayOpportunities() {
            const container = document.getElementById('opportunitiesList');
            const start = (currentPage - 1) * itemsPerPage;
            const end = start + itemsPerPage;
            const pageOpportunities = filteredOpportunities.slice(start, end);
            
            document.getElementById('resultsCount').textContent = 
                `Showing ${filteredOpportunities.length} opportunities`;
            
            if (pageOpportunities.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <h3>No opportunities found</h3>
                        <p>Try adjusting your filters or check back later for new opportunities</p>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = pageOpportunities.map(opp => `
                <div class="opportunity-card">
                    <div class="opportunity-header">
                        <div class="opportunity-title-section">
                            <h3 class="opportunity-title">${opp.title}</h3>
                            <div class="opportunity-org">${opp.organization?.name || 'Organization'}</div>
                            <div class="opportunity-location">
                                📍 ${opp.location || 'Location TBD'}
                            </div>
                        </div>
                        ${opp.status === 'Open' ? '<div class="opportunity-badge badge-new">NEW</div>' : ''}
                    </div>
                    
                    <div class="opportunity-details">
                        <p class="opportunity-description">
                            ${opp.description || 'No description available'}
                        </p>
                        
                        <div class="opportunity-info">
                            <div class="info-item">
                                <span class="info-label">📅 Date:</span>
                                <span class="info-value">${formatDate(opp.eventDate)}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">👥 Audience:</span>
                                <span class="info-value">${opp.audienceSize || 'TBD'} attendees</span>
                            </div>
                        </div>
                        
                        ${opp.topics && opp.topics.length > 0 ? `
                            <div class="opportunity-tags">
                                ${opp.topics.map(topic => `<span class="tag">${topic}</span>`).join('')}
                            </div>
                        ` : ''}
                    </div>
                    
                    <div class="opportunity-footer">
                        <div class="deadline-info">
                            ${opp.hasApplied ? 'Already applied' : 'Open for applications'}
                        </div>
                        <div class="opportunity-actions">
                            <button class="btn btn-secondary" onclick="viewDetails('${opp.id}')">View Details</button>
                            ${!opp.hasApplied ? 
                                `<button class="btn btn-primary" onclick="applyNow('${opp.id}')">Apply Now</button>` :
                                `<button class="btn btn-secondary" disabled>Applied</button>`
                            }
                        </div>
                    </div>
                </div>
            `).join('');
            
            updatePaginationButtons();
        }

        // Apply filters
        function applyFilters() {
            const filters = {
                location: document.getElementById('locationFilter').value,
                topics: document.getElementById('topicFilter').value,
                date: document.getElementById('dateFilter').value,
                type: document.getElementById('typeFilter').value
            };
            
            currentPage = 1;
            loadOpportunities(filters);
        }

        // Clear filters
        function clearFilters() {
            document.getElementById('locationFilter').value = '';
            document.getElementById('topicFilter').value = '';
            document.getElementById('dateFilter').value = '';
            document.getElementById('typeFilter').value = '';
            
            currentPage = 1;
            loadOpportunities();
        }

        // View opportunity details
        function viewDetails(id) {
            sessionStorage.setItem('selectedOpportunity', id);
            window.location.href = `opportunity-details.html?id=${id}`;
        }

        // Apply to opportunity
        async function applyNow(id) {
            if (confirm('Are you sure you want to apply for this opportunity?')) {
                try {
                    await api.applyToOpportunity(id, {
                        message: 'I am interested in this opportunity.'
                    });
                    alert('Application submitted successfully!');
                    loadOpportunities();
                } catch (error) {
                    console.error('Error applying:', error);
                    alert('Failed to submit application. Please try again.');
                }
            }
        }

        // Pagination functions
        function updatePaginationButtons() {
            const totalPages = Math.ceil(filteredOpportunities.length / itemsPerPage);
            
            document.getElementById('prevBtn').disabled = currentPage === 1;
            document.getElementById('nextBtn').disabled = currentPage === totalPages;
            
            document.querySelectorAll('.pagination button').forEach(btn => {
                btn.classList.remove('active');
            });
            
            const currentBtn = document.querySelector(`.pagination button:nth-child(${currentPage + 1})`);
            if (currentBtn) {
                currentBtn.classList.add('active');
            }
        }

        function previousPage() {
            if (currentPage > 1) {
                currentPage--;
                displayOpportunities();
            }
        }

        function nextPage() {
            const totalPages = Math.ceil(filteredOpportunities.length / itemsPerPage);
            if (currentPage < totalPages) {
                currentPage++;
                displayOpportunities();
            }
        }

        function goToPage(page) {
            currentPage = page;
            displayOpportunities();
        }

        // Format date helper
        function formatDate(dateString) {
            if (!dateString) return 'Date TBD';
            const date = new Date(dateString);
            return date.toLocaleDateString('en-US', { 
                month: 'long', 
                day: 'numeric', 
                year: 'numeric' 
            });
        }

        // Mobile menu functions
        function toggleMobileMenu() {
            const hamburger = document.getElementById('hamburger');
            const mobileMenu = document.getElementById('mobileMenu');
            const overlay = document.getElementById('mobileMenuOverlay');
            
            hamburger.classList.toggle('active');
            mobileMenu.classList.toggle('show');
            overlay.classList.toggle('show');
            
            if (mobileMenu.classList.contains('show')) {
                document.body.style.overflow = 'hidden';
            } else {
                document.body.style.overflow = '';
            }
        }

        function closeMobileMenu() {
            const hamburger = document.getElementById('hamburger');
            const mobileMenu = document.getElementById('mobileMenu');
            const overlay = document.getElementById('mobileMenuOverlay');
            
            hamburger.classList.remove('active');
            mobileMenu.classList.remove('show');
            overlay.classList.remove('show');
            document.body.style.overflow = '';
        }

        // Dropdown menu
        function toggleDropdown() {
            const dropdown = document.getElementById('dropdownMenu');
            dropdown.classList.toggle('show');
        }

        // Close dropdown when clicking outside
        document.addEventListener('click', function(event) {
            const dropdown = document.getElementById('dropdownMenu');
            const avatar = document.getElementById('userAvatar');
            
            if (dropdown && avatar && !avatar.contains(event.target) && !dropdown.contains(event.target)) {
                dropdown.classList.remove('show');
            }
        });

        // Logout function
        function logout() {
            api.logout();
        }

        // Close mobile menu on window resize
        window.addEventListener('resize', function() {
            if (window.innerWidth > 768) {
                closeMobileMenu();
            }
        });

        // Standard initialization
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof api === 'undefined') {
                console.error('API client not loaded');
                return;
            }
            
            // Update navigation UI first
            if (typeof updateNavigation === 'function') {
                updateNavigation();
            }
            
            // Check if this page requires authentication
            if (!api.isAuthenticated()) {
                sessionStorage.setItem('redirectUrl', window.location.href);
                window.location.href = '/login.html';
                return;
            }
            
            // Call page initialization
            if (typeof initializePage === 'function') {
                initializePage();
            }
        });
    </script>
</body>
</html>