<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Contact Us - CoveTalks</title>
<style>
/* Copy all existing base styles from your pages */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    line-height: 1.6;
    color: #333;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
}

/* Header Styles - matching existing */
header {
    background: white;
    color: #333;
    padding: 1rem 0;
    position: fixed;
    width: 100%;
    top: 0;
    z-index: 1000;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

nav {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.logo {
    display: inline-flex;
    align-items: center;
    text-decoration: none;
}

.logo-img {
    height: 70px;
    width: auto;
    display: block;
}

@media (max-width: 768px) {
    .logo-img {
        height: 50px;
    }
}

.nav-links {
    display: flex;
    list-style: none;
    gap: 2rem;
}

.nav-links a {
    color: #333;
    text-decoration: none;
    font-weight: 500;
    transition: color 0.3s;
}

.nav-links a:hover {
    color: #155588;
}

.auth-buttons {
    display: flex;
    gap: 1rem;
}

.btn {
    padding: 0.75rem 1.5rem;
    border: none;
    border-radius: 25px;
    cursor: pointer;
    text-decoration: none;
    display: inline-block;
    transition: all 0.3s;
    font-weight: 500;
    text-align: center;
}

.btn-primary {
    background: #155588;
    color: white;
}

.btn-primary:hover {
    background: #1e3d6f;
    transform: translateY(-2px);
}

.btn-secondary {
    background: transparent;
    color: #155588;
    border: 2px solid #155588;
}

.btn-secondary:hover {
    background: #155588;
    color: white;
}

/* Page Header */
.page-header {
    background: linear-gradient(135deg, #667eea 0%, #1e93b7 100%);
    color: white;
    padding: 10rem 0 4rem;
    text-align: center;
}

.page-header h1 {
    font-size: 3rem;
    margin-bottom: 1rem;
}

.page-header p {
    font-size: 1.2rem;
    max-width: 600px;
    margin: 0 auto;
}

/* Main Content */
.main-content {
    padding: 3rem 0;
    min-height: 60vh;
    background: #f8f9fa;
}

/* Contact Section */
.contact-section {
    display: grid;
    grid-template-columns: 1fr 2fr;
    gap: 3rem;
    margin-top: -4rem;
}

.contact-info-card {
    background: white;
    border-radius: 15px;
    padding: 2rem;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    height: fit-content;
}

.contact-info-card h2 {
    color: #155588;
    margin-bottom: 2rem;
}

.contact-item {
    display: flex;
    align-items: start;
    gap: 1rem;
    margin-bottom: 2rem;
}

.contact-icon {
    width: 50px;
    height: 50px;
    background: linear-gradient(135deg, #667eea 0%, #1e93b7 100%);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 1.5rem;
    flex-shrink: 0;
}

.contact-details h3 {
    color: #155588;
    margin-bottom: 0.5rem;
}

.contact-details p {
    color: #666;
}

/* Contact Form */
.contact-form-card {
    background: white;
    border-radius: 15px;
    padding: 2.5rem;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
}

.contact-form-card h2 {
    color: #155588;
    margin-bottom: 1rem;
}

.form-subtitle {
    color: #666;
    margin-bottom: 2rem;
}

.form-group {
    margin-bottom: 1.5rem;
}

.form-group label {
    display: block;
    margin-bottom: 0.5rem;
    font-weight: 500;
    color: #333;
}

.form-group input,
.form-group select,
.form-group textarea {
    width: 100%;
    padding: 0.75rem;
    border: 2px solid #e1e8ed;
    border-radius: 5px;
    transition: border-color 0.3s;
    font-family: inherit;
}

.form-group input:focus,
.form-group select:focus,
.form-group textarea:focus {
    outline: none;
    border-color: #155588;
}

.form-group textarea {
    min-height: 150px;
    resize: vertical;
}

.form-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
}

.required {
    color: #e74c3c;
}

.submit-btn {
    width: 100%;
    padding: 1rem;
    font-size: 1.1rem;
}

.success-message {
    background: #d4edda;
    color: #155724;
    padding: 1rem;
    border-radius: 5px;
    margin-bottom: 1rem;
    display: none;
}

.error-message {
    background: #f8d7da;
    color: #721c24;
    padding: 1rem;
    border-radius: 5px;
    margin-bottom: 1rem;
    display: none;
}

/* FAQ Section */
.faq-section {
    margin-top: 4rem;
    padding: 3rem 0;
}

.faq-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 2rem;
    margin-top: 2rem;
}

.faq-card {
    background: white;
    padding: 2rem;
    border-radius: 15px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
}

.faq-card h3 {
    color: #155588;
    margin-bottom: 1rem;
}

.faq-card p {
    color: #666;
    line-height: 1.8;
}

/* Footer */
footer {
    background: #2c3e50;
    color: white;
    padding: 3rem 0 1rem;
    margin-top: 4rem;
}

.footer-content {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 2rem;
    margin-bottom: 2rem;
}

.footer-section h3 {
    margin-bottom: 1rem;
    color: #f2b236;
}

.footer-section p,
.footer-section a {
    color: #bdc3c7;
    text-decoration: none;
    display: block;
    margin-bottom: 0.5rem;
    transition: color 0.3s;
}

.footer-section a:hover {
    color: #f2b236;
}

.footer-bottom {
    border-top: 1px solid #34495e;
    padding-top: 1rem;
    text-align: center;
    color: #bdc3c7;
}

.loading {
    display: inline-block;
    width: 20px;
    height: 20px;
    border: 3px solid #f3f3f3;
    border-top: 3px solid #155588;
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin-left: 10px;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* Responsive */
@media (max-width: 768px) {
    .nav-links {
        display: none;
    }

    .contact-section {
        grid-template-columns: 1fr;
    }

    .form-row {
        grid-template-columns: 1fr;
    }

    .faq-grid {
        grid-template-columns: 1fr;
    }

    .page-header h1 {
        font-size: 2rem;
    }
}

/* Mobile Navigation Styles */
.nav-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
}

.nav-right {
    display: flex;
    align-items: center;
    gap: 1rem;
}

/* Hamburger Menu */
.hamburger {
    display: none;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    width: 35px;
    height: 35px;
    cursor: pointer;
    z-index: 1002;
    background: none;
    border: none;
    padding: 5px;
}

.hamburger span {
    display: block;
    width: 25px;
    height: 3px;
    background: #333;
    margin: 3px 0;
    transition: all 0.3s ease;
    border-radius: 2px;
}

.hamburger.active span:nth-child(1) {
    transform: rotate(45deg) translate(5px, 5px);
}

.hamburger.active span:nth-child(2) {
    opacity: 0;
}

.hamburger.active span:nth-child(3) {
    transform: rotate(-45deg) translate(7px, -6px);
}

/* Mobile Menu Overlay */
.mobile-menu-overlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    z-index: 999;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.mobile-menu-overlay.show {
    display: block;
    opacity: 1;
}

/* Mobile Menu Panel */
.mobile-menu {
    position: fixed;
    top: 0;
    right: -320px;
    width: 300px;
    height: 100vh;
    background: white;
    z-index: 1001;
    transition: right 0.3s ease;
    overflow-y: auto;
    box-shadow: -5px 0 20px rgba(0,0,0,0.1);
}

.mobile-menu.show {
    right: 0;
}

.mobile-menu-header {
    padding: 1.5rem;
    border-bottom: 1px solid #e1e8ed;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.mobile-menu-close {
    width: 30px;
    height: 30px;
    background: none;
    border: none;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    color: #666;
}

.mobile-nav-links {
    list-style: none;
    padding: 1rem 0;
}

.mobile-nav-links li {
    border-bottom: 1px solid #f0f0f0;
}

.mobile-nav-links a {
    display: block;
    padding: 1rem 1.5rem;
    color: #333;
    text-decoration: none;
    font-weight: 500;
    transition: all 0.3s;
}

.mobile-nav-links a:hover {
    background: #f8f9fa;
    color: #155588;
    padding-left: 2rem;
}

.mobile-nav-links a.active {
    color: #155588;
    background: #e8f4fd;
}

.mobile-user-section {
    padding: 1.5rem;
    border-bottom: 1px solid #e1e8ed;
    background: #f8f9fa;
}

.mobile-user-info {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1rem;
}

.mobile-user-avatar {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background: linear-gradient(135deg, #667eea, #1e93b7);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: bold;
}

.mobile-user-details h3 {
    margin: 0;
    color: #333;
}

.mobile-user-details p {
    margin: 0;
    color: #666;
    font-size: 0.9rem;
}

.mobile-auth-buttons {
    padding: 1.5rem;
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.mobile-auth-buttons .btn {
    width: 100%;
    text-align: center;
}

/* Responsive Breakpoints */
@media (max-width: 768px) {
    .nav-links {
        display: none !important;
    }
    
    .auth-buttons.desktop-only {
        display: none !important;
    }
    
    .hamburger {
        display: flex;
    }
    
    header {
        padding: 0.75rem 0;
    }
    
    .logo {
        font-size: 1.5rem;
    }

    body {
        padding-top: 60px;
    }
}

@media (max-width: 480px) {
    .mobile-menu {
        width: 85vw;
        right: -85vw;
    }
}
</style>
</head>
<body>
<!-- Header -->
<header>
    <div class="nav-container">
        <nav>
            <!-- Logo -->
            <a href="index.html" class="logo"><img src="/Images/CoveTalks_logo.svg" alt="CoveTalks" class="logo-img"></a>
            
            <!-- Desktop Navigation -->
            <!-- Logged Out Navigation -->
            <ul class="nav-links nav-logged-out" id="navLoggedOut">
                <li><a href="index.html">Home</a></li>
                <li><a href="members.html">Find Speakers</a></li>
                <li><a href="pricing.html">Pricing</a></li>
                <li><a href="register.html">Register</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
            
            <!-- Logged In Navigation (Speakers) -->
            <ul class="nav-links nav-logged-in nav-speaker" id="navSpeaker" style="display: none;">
                <li><a href="dashboard.html">Dashboard</a></li>
                <li><a href="members.html">Find Speakers</a></li>
                <li><a href="opportunities.html">Opportunities</a></li>
                <li><a href="bookings.html">My Bookings</a></li>
                <li><a href="profile.html">Profile</a></li>
            </ul>
            
            <!-- Logged In Navigation (Organizations) -->
            <ul class="nav-links nav-logged-in nav-organization" id="navOrganization" style="display: none;">
                <li><a href="organization-dashboard.html">Dashboard</a></li>
                <li><a href="members.html">Find Speakers</a></li>
                <li><a href="post-opportunity.html">Post Opportunity</a></li>
                <li><a href="my-opportunities.html">My Opportunities</a></li>
                <li><a href="saved-speakers.html">Saved Speakers</a></li>
            </ul>

            <!-- Right Side Navigation -->
            <div class="nav-right">
                <!-- For Logged In Users -->
                <div class="user-menu" id="userMenuDesktop" style="display: none;">
                    <div class="user-dropdown">
                        <div class="user-avatar" onclick="toggleDropdown()" id="userAvatar">JD</div>
                        <div class="dropdown-menu" id="dropdownMenu">
                            <a href="profile-edit.html">Edit Profile</a>
                            <a href="settings.html">Settings</a>
                            <a href="billing.html">Billing</a>
                            <div class="dropdown-divider"></div>
                            <a href="#" onclick="logout()">Logout</a>
                        </div>
                    </div>
                </div>

                <!-- For Logged Out Users -->
                <div class="auth-buttons desktop-only" id="authButtonsDesktop">
                    <a href="register.html" class="btn btn-secondary">Join</a>
                    <a href="login.html" class="btn btn-primary">Login</a>
                </div>

                <!-- Hamburger Menu Button -->
                <button class="hamburger" id="hamburger" onclick="toggleMobileMenu()">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </nav>
    </div>
</header>

<!-- Mobile Menu Overlay -->
<div class="mobile-menu-overlay" id="mobileMenuOverlay" onclick="closeMobileMenu()"></div>

<!-- Mobile Menu Panel -->
<div class="mobile-menu" id="mobileMenu">
<div class="mobile-menu-header">
    <a href="index.html" class="logo"><img src="/Images/CoveTalks_logo.svg" alt="CoveTalks" class="logo-img"></a>
    <button class="mobile-menu-close" onclick="closeMobileMenu()">‚úï</button>
</div>

<!-- Mobile User Section (for logged in users) -->
<div class="mobile-user-section" id="mobileUserSection" style="display: none;">
    <div class="mobile-user-info">
        <div class="mobile-user-avatar" id="mobileUserAvatar">JD</div>
        <div class="mobile-user-details">
            <h3 id="mobileUserName">John Doe</h3>
            <p id="mobileUserType">Speaker - Plus Plan</p>
        </div>
    </div>
</div>

<!-- Mobile Navigation Links -->
<!-- Logged Out Mobile Navigation -->
<ul class="mobile-nav-links mobile-nav-logged-out" id="mobileNavLoggedOut">
    <li><a href="index.html">Home</a></li>
    <li><a href="members.html">Find Speakers</a></li>
    <li><a href="pricing.html">Pricing</a></li>
    <li><a href="register.html">Register</a></li>
    <li><a href="contact.html">Contact</a></li>
    <li><a href="help.html">Help Center</a></li>
</ul>

<!-- Logged In Mobile Navigation (Speakers) -->
<ul class="mobile-nav-links mobile-nav-logged-in mobile-nav-speaker" id="mobileNavSpeaker" style="display: none;">
    <li><a href="dashboard.html">Dashboard</a></li>
    <li><a href="members.html">Find Speakers</a></li>
    <li><a href="opportunities.html">Opportunities</a></li>
    <li><a href="bookings.html">My Bookings</a></li>
    <li><a href="profile.html">Profile</a></li>
    <li><a href="settings.html">Settings</a></li>
    <li><a href="billing.html">Billing</a></li>
    <li><a href="help.html">Help & Support</a></li>
</ul>

<!-- Logged In Mobile Navigation (Organizations) -->
<ul class="mobile-nav-links mobile-nav-logged-in mobile-nav-organization" id="mobileNavOrganization" style="display: none;">
    <li><a href="organization-dashboard.html">Dashboard</a></li>
    <li><a href="members.html">Find Speakers</a></li>
    <li><a href="post-opportunity.html">Post Opportunity</a></li>
    <li><a href="my-opportunities.html">My Opportunities</a></li>
    <li><a href="saved-speakers.html">Saved Speakers</a></li>
    <li><a href="settings.html">Settings</a></li>
    <li><a href="team.html">Team Members</a></li>
    <li><a href="help.html">Help & Support</a></li>
</ul>

<!-- Mobile Auth Buttons (for logged out users) -->
<div class="mobile-auth-buttons" id="mobileAuthButtons">
    <a href="register.html" class="btn btn-secondary">Join Community</a>
    <a href="login.html" class="btn btn-primary">Login</a>
</div>

<!-- Mobile Logout Button (for logged in users) -->
<div class="mobile-auth-buttons" id="mobileLogoutSection" style="display: none;">
    <button class="btn btn-primary" onclick="logout()">Logout</button>
</div>
</div>

<!-- Page Header -->
<div class="page-header">
<div class="container">
    <h1>Get in Touch</h1>
    <p>We're here to help you connect with the perfect speakers and organizations</p>
</div>
</div>

<!-- Main Content -->
<main class="main-content">
<div class="container">
    <div class="contact-section">
        <!-- Contact Information -->
        <div class="contact-info-card">
            <h2>Contact Information</h2>
            
            <div class="contact-item">
                <div class="contact-icon">üìß</div>
                <div class="contact-details">
                    <h3>Email</h3>
                    <p>support@covetalks.com</p>
                    <p>partnerships@covetalks.com</p>
                </div>
            </div>
            
            <div class="contact-item">
                <div class="contact-icon">üìû</div>
                <div class="contact-details">
                    <h3>Phone</h3>
                    <p>1-800-COVE-TALK</p>
                    <p>Mon-Fri, 9AM-6PM PST</p>
                </div>
            </div>
            
            <div class="contact-item">
                <div class="contact-icon">üìç</div>
                <div class="contact-details">
                    <h3>Office</h3>
                    <p>Phoenix, Arizona</p>
                    <p>United States</p>
                </div>
            </div>
            
            <div class="contact-item">
                <div class="contact-icon">üåê</div>
                <div class="contact-details">
                    <h3>Social Media</h3>
                    <p><a href="#" style="color: #155588;">LinkedIn</a></p>
                    <p><a href="#" style="color: #155588;">Twitter</a></p>
                </div>
            </div>
        </div>

        <!-- Contact Form -->
        <div class="contact-form-card">
            <h2>Send us a Message</h2>
            <p class="form-subtitle">Fill out the form below and we'll get back to you within 24 hours</p>
            
            <div id="successMessage" class="success-message">
                Thank you for your message! We'll get back to you soon.
            </div>
            
            <div id="errorMessage" class="error-message">
                There was an error sending your message. Please try again.
            </div>
            
            <form id="contactForm">
                <div class="form-row">
                    <div class="form-group">
                        <label for="firstName">First Name <span class="required">*</span></label>
                        <input type="text" id="firstName" name="firstName" required>
                    </div>
                    <div class="form-group">
                        <label for="lastName">Last Name <span class="required">*</span></label>
                        <input type="text" id="lastName" name="lastName" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="email">Email <span class="required">*</span></label>
                        <input type="email" id="email" name="email" required>
                    </div>
                    <div class="form-group">
                        <label for="phone">Phone</label>
                        <input type="tel" id="phone" name="phone">
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="subject">Subject <span class="required">*</span></label>
                    <select id="subject" name="subject" required>
                        <option value="">Select a subject</option>
                        <option value="General">General Inquiry</option>
                        <option value="Support">Technical Support</option>
                        <option value="Booking">Speaker Booking</option>
                        <option value="Partnership">Partnership Opportunity</option>
                        <option value="Billing">Billing Question</option>
                        <option value="Other">Other</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="message">Message <span class="required">*</span></label>
                    <textarea id="message" name="message" required placeholder="Tell us how we can help you..."></textarea>
                </div>
                
                <button type="submit" class="btn btn-primary submit-btn">
                    <span id="submitText">Send Message</span>
                    <span id="submitLoader" class="loading" style="display: none;"></span>
                </button>
            </form>
        </div>
    </div>

    <!-- FAQ Section -->
    <div class="faq-section">
        <h2 style="text-align: center; color: #155588; margin-bottom: 2rem;">Frequently Asked Questions</h2>
        <div class="faq-grid">
            <div class="faq-card">
                <h3>How do I become a speaker?</h3>
                <p>Simply register for a speaker account, choose your subscription plan, and complete your profile. You'll immediately gain access to our database of speaking opportunities.</p>
            </div>
            <div class="faq-card">
                <h3>Is it really free for organizations?</h3>
                <p>Yes! Non-profits, schools, churches, and similar organizations can access our platform completely free. No hidden fees or charges.</p>
            </div>
            <div class="faq-card">
                <h3>How quickly can I find a speaker?</h3>
                <p>Most organizations find suitable speakers within 24-48 hours. Our searchable database makes it easy to find the perfect match for your event.</p>
            </div>
            <div class="faq-card">
                <h3>What if I need to cancel my subscription?</h3>
                <p>You can cancel your subscription at any time from your dashboard. Your access will continue until the end of your current billing period.</p>
            </div>
        </div>
    </div>
</div>
</main>

<!-- Footer -->
<footer>
<div class="container">
    <div class="footer-content">
        <div class="footer-section">
            <h3>CoveTalks</h3>
            <p>Connecting speakers with organizations worldwide</p>
        </div>
        <div class="footer-section">
            <h3>Quick Links</h3>
            <a href="index.html">Home</a>
            <a href="members.html">Members</a>
            <a href="register.html">Register</a>
            <a href="pricing.html">Pricing</a>
        </div>
        <div class="footer-section">
            <h3>Support</h3>
            <a href="contact.html">Contact Us</a>
            <a href="help.html">Help Center</a>
            <a href="privacy.html">Privacy Policy</a>
            <a href="terms.html">Terms of Service</a>
        </div>
        <div class="footer-section">
            <h3>Connect</h3>
            <a href="#">LinkedIn</a>
            <a href="#">Twitter</a>
            <a href="#">Facebook</a>
            <a href="#">Newsletter</a>
        </div>
    </div>
    <div class="footer-bottom">
        <p>&copy; 2024 CoveTalks. All rights reserved.</p>
    </div>
</div>
</footer>

<script>
// Configuration
const CONFIG = {
    AIRTABLE: {
        API_KEY: 'patI3b0QZgesfoKWh.3160fe85c7238ed5cc4a0d6153bec4cef493d3c086233d3304e1211c41fbfd69',
        BASE_ID: 'appa7KVa8HcVheTOo',
        TABLE_NAME: 'Contact_Submissions'
    },
    API_BASE: window.location.hostname === 'localhost' ? 
        'http://localhost:3001' : '/.netlify/functions/api'
};

// Handle form submission
document.getElementById('contactForm').addEventListener('submit', async function(e) {
    e.preventDefault();
    
    // Show loading state
    document.getElementById('submitText').textContent = 'Sending...';
    document.getElementById('submitLoader').style.display = 'inline-block';
    
    // Get form data
    const formData = {
        Name: `${document.getElementById('firstName').value} ${document.getElementById('lastName').value}`,
        Email: document.getElementById('email').value,
        Phone: document.getElementById('phone').value,
        Subject: document.getElementById('subject').value,
        Message: document.getElementById('message').value,
        Type: document.getElementById('subject').value,
        Status: 'New',
        Response_Sent: false
    };
    
    try {
        // Send to Airtable via API endpoint
        const response = await fetch(`${CONFIG.API_BASE}/contact`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(formData)
        });
        
        if (response.ok) {
            // Show success message
            document.getElementById('successMessage').style.display = 'block';
            document.getElementById('errorMessage').style.display = 'none';
            
            // Reset form
            document.getElementById('contactForm').reset();
            
            // Hide success message after 5 seconds
            setTimeout(() => {
                document.getElementById('successMessage').style.display = 'none';
            }, 5000);
        } else {
            throw new Error('Failed to send message');
        }
    } catch (error) {
        console.error('Error:', error);
        document.getElementById('errorMessage').style.display = 'block';
        document.getElementById('successMessage').style.display = 'none';
    } finally {
        // Reset button state
        document.getElementById('submitText').textContent = 'Send Message';
        document.getElementById('submitLoader').style.display = 'none';
    }
});

// Check auth status
const loginBtn = document.getElementById('loginBtn');
const token = localStorage.getItem('token');
if (token) {
    loginBtn.textContent = 'Dashboard';
    loginBtn.onclick = () => window.location.href = 'members.html';
} else {
    loginBtn.onclick = () => window.location.href = 'index.html#login';
}
</script>
<script>
    // ============================================
    // NAVIGATION JAVASCRIPT
    // ============================================
    
    // Initialize on page load
    document.addEventListener('DOMContentLoaded', function() {
        updateNavAuth();
        setActiveNavItem();
    });
    
    // Update navigation based on auth status
    function updateNavAuth() {
        const token = localStorage.getItem('token');
        const user = JSON.parse(localStorage.getItem('user') || '{}');
        
        if (token && user) {
            // User is logged in - hide logged out nav
            document.getElementById('navLoggedOut').style.display = 'none';
            document.getElementById('mobileNavLoggedOut').style.display = 'none';
            
            // Show appropriate logged in navigation based on user type
            if (user.type === 'Organization' || user.Member_Type === 'Organization') {
                // Organization navigation
                document.getElementById('navOrganization').style.display = 'flex';
                document.getElementById('navSpeaker').style.display = 'none';
                document.getElementById('mobileNavOrganization').style.display = 'block';
                document.getElementById('mobileNavSpeaker').style.display = 'none';
            } else {
                // Speaker navigation (default)
                document.getElementById('navSpeaker').style.display = 'flex';
                document.getElementById('navOrganization').style.display = 'none';
                document.getElementById('mobileNavSpeaker').style.display = 'block';
                document.getElementById('mobileNavOrganization').style.display = 'none';
            }
            
            // Show user menu
            document.getElementById('userMenuDesktop').style.display = 'flex';
            document.getElementById('authButtonsDesktop').style.display = 'none';
            document.getElementById('mobileUserSection').style.display = 'block';
            document.getElementById('mobileAuthButtons').style.display = 'none';
            document.getElementById('mobileLogoutSection').style.display = 'block';
            
            // Update user info
            const initials = user.name ? user.name.split(' ').map(n => n[0]).join('').toUpperCase() : 'U';
            document.getElementById('userAvatar').textContent = initials;
            document.getElementById('mobileUserAvatar').textContent = initials;
            document.getElementById('mobileUserName').textContent = user.name || 'User';
            document.getElementById('mobileUserType').textContent = user.type || user.Member_Type || 'Member';
        } else {
            // User is logged out - show logged out nav
            document.getElementById('navLoggedOut').style.display = 'flex';
            document.getElementById('mobileNavLoggedOut').style.display = 'block';
            
            // Hide all logged in navigation
            document.getElementById('navSpeaker').style.display = 'none';
            document.getElementById('navOrganization').style.display = 'none';
            document.getElementById('mobileNavSpeaker').style.display = 'none';
            document.getElementById('mobileNavOrganization').style.display = 'none';
            
            // Show auth buttons
            if (document.getElementById('userMenuDesktop')) {
                document.getElementById('userMenuDesktop').style.display = 'none';
            }
            document.getElementById('authButtonsDesktop').style.display = 'flex';
            
            if (document.getElementById('mobileUserSection')) {
                document.getElementById('mobileUserSection').style.display = 'none';
            }
            document.getElementById('mobileAuthButtons').style.display = 'flex';
            if (document.getElementById('mobileLogoutSection')) {
                document.getElementById('mobileLogoutSection').style.display = 'none';
            }
        }
    }
    
    // Toggle mobile menu
    function toggleMobileMenu() {
        const hamburger = document.getElementById('hamburger');
        const mobileMenu = document.getElementById('mobileMenu');
        const overlay = document.getElementById('mobileMenuOverlay');
        
        hamburger.classList.toggle('active');
        mobileMenu.classList.toggle('show');
        overlay.classList.toggle('show');
        
        if (mobileMenu.classList.contains('show')) {
            document.body.style.overflow = 'hidden';
        } else {
            document.body.style.overflow = '';
        }
    }
    
    // Close mobile menu
    function closeMobileMenu() {
        const hamburger = document.getElementById('hamburger');
        const mobileMenu = document.getElementById('mobileMenu');
        const overlay = document.getElementById('mobileMenuOverlay');
        
        hamburger.classList.remove('active');
        mobileMenu.classList.remove('show');
        overlay.classList.remove('show');
        document.body.style.overflow = '';
    }
    
    // Toggle dropdown menu (desktop)
    function toggleDropdown() {
        const dropdown = document.getElementById('dropdownMenu');
        dropdown.classList.toggle('show');
    }
    
    // Close dropdown when clicking outside
    document.addEventListener('click', function(event) {
        const dropdown = document.getElementById('dropdownMenu');
        const avatar = document.getElementById('userAvatar');
        
        if (dropdown && avatar && !avatar.contains(event.target) && !dropdown.contains(event.target)) {
            dropdown.classList.remove('show');
        }
    });
    
    // Set active navigation item based on current page
    function setActiveNavItem() {
        const currentPath = window.location.pathname.split('/').pop() || 'index.html';
        
        // Clear all active classes first
        document.querySelectorAll('.nav-links a, .mobile-nav-links a').forEach(link => {
            link.classList.remove('active');
        });
        
        // Set active class on matching links
        document.querySelectorAll('.nav-links a, .mobile-nav-links a').forEach(link => {
            if (link.getAttribute('href') === currentPath) {
                link.classList.add('active');
            }
        });
    }
    
    // Logout function
    function logout() {
        localStorage.removeItem('token');
        localStorage.removeItem('user');
        sessionStorage.removeItem('token');
        sessionStorage.removeItem('user');
        window.location.href = 'login.html';
    }
    
    // Close mobile menu on window resize
    window.addEventListener('resize', function() {
        if (window.innerWidth > 768) {
            closeMobileMenu();
        }
    });
    
    // Close mobile menu when clicking on a link
    document.querySelectorAll('.mobile-nav-links a').forEach(link => {
        link.addEventListener('click', function() {
            closeMobileMenu();
        });
    });
    </script>
    <!-- Add before closing </body> tag on ALL pages -->
<script src="/js/app.js"></script>
<script src="/js/navigation.js"></script>
<script>
  // Initialize page-specific functionality
  document.addEventListener('DOMContentLoaded', function() {
    // Check auth and update navigation
    updateNavigation();
    
    // Page-specific initialization
    if (typeof initializePage === 'function') {
      initializePage();
    }
  });
</script>
</body>
</html>